<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12 p-0">
      <app-header [titleData]="titleArray"></app-header>
    </div>
    <div class="w-100">
      <mat-tab-group animationDuration="0ms" (selectedTabChange)="onTabChange($event)">
        <!--Administrative User Part Start-->
        <mat-tab label="Administrative User">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-12 p-3" style="background-color: #F5F8FA;">
                <!--Administrative User Data Handling-->
                <div class="card ">
                  <!--*ngIf="isViewAdmin"-->
                  <!--isAdminAdd &&-->
                  <div class="card-body p-2">
                    <div>
                      <div class="row pr-1 pl-3 pb-2" style="justify-content: space-around;">
                        <div class="col-md-2" style="background-color: #53b9c6;border-radius: 5px; justify-content: center; 
                          text-align: center;height: 34px;">
                          <button class="btn btn-sm"
                            style="color: white;font-weight: bold; padding-top: 10px;line-height: 1;"
                            (click)="open(content)">
                            + Add New User</button>
                        </div>
                        <div class="col-md-10">
                          <input type="text" [(ngModel)]="term" class=" p-2 w-100 " placeholder="Search by Name" style="border: none; border-radius: 22px; outline-style: none !important;font-size: 14px; font-weight: 500;padding-right: 100%;
                            height: 34px;padding-left: 40px !important;background-color: #F5F5F5 ;"
                            (keyup)="findText(term)">
                          <div class="searchIcon" style="margin-left: 10px;margin-top: -28px;">
                            <i class="fas fa-search" aria-hidden="true"></i>
                          </div>
                        </div>
                      </div>
                      <div class="scroll tableFixHead">
                        <table class="table text-center" id="header-fixed">
                          <thead class=" "
                            style="position: sticky;top: 0;background-color: #3E454C;color: #FFFFFF;font-size: 15px;">
                            <tr class="medium" style="font-weight: normal;">
                              <th scope="col" class="border text-center">No</th>
                              <th scope="col" class="border  text-center">Identity</th>
                              <th scope="col" class="border text-center">User ID</th>
                              <th scope="col" class="border text-center">Name</th>
                              <th scope="col" class="border  text-center">Department</th>
                              <th scope="col" class="border text-center">Email</th>
                              <th scope="col" class="border text-center">Contact</th>
                              <th scope="col" class="border  text-center">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="!(adminTeam && adminTeam.length)"
                              style="text-align: center;background-color: white;padding: 20px;">
                              <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">
                                Don't have Admin Team
                              </td>
                            </tr>
                            <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
                            box-shadow: 0px 6px 12px #44444414;
                            border-radius: 6px;
                            opacity: 1;" *ngFor="let adminTeam of adminTeam | filter:term; let i = index">
                              <td scope="row" class="text-center">{{i+1}}</td>
                              <td class="pl-3" style="text-transform: capitalize;">{{adminTeam.identity}}</td>
                              <td class="pl-3">{{adminTeam.userID}}</td>
                              <td class="pl-3">{{adminTeam.firstName}}</td>
                              <td class="pl-3">{{adminTeam.department}}</td>
                              <td class="pl-3">{{adminTeam.emailID}}</td>
                              <td class="pl-3">{{adminTeam.phoneNumber.phoneNumber}}</td>
                              <td class="menu text-center text-info" style="padding: 0px;">
                                <button mat-icon-button [matMenuTriggerFor]="menu"
                                  aria-label="Example icon-button with a menu">
                                  <!-- <mat-icon>more_vert</mat-icon> -->
                                  <img style="width: 0.32rem;" class="crossImg"
                                    src="../../../assets/images/ui/Icons/1x/menu.png">
                                </button>
                                <mat-menu #menu="matMenu" class="menudata">

                                  <button mat-menu-item
                                    (click)="openViewAdminUserMethod(viewAdminUserContent,adminTeam)">
                                    <!--openViewOne(adminTeam)-->
                                    <!-- <mat-icon>visibility</mat-icon> -->
                                    <span>View</span>
                                  </button>
                                  <ng-template #viewAdminUserContent let-modal>
                                    <div class="modal-header p-2  justify-content-between"
                                      style="background-color: #53B9c6; color: white;font-weight: bold;">
                                      <span class="modal-title justify-content-start pl-3" id="modal-basic-title">User
                                        Information</span>
                                      <div class="matIcon pr-3">
                                        <img style="width:18px;cursor: pointer;" class="crossImg"
                                          (click)="modal.dismiss('Cross click')"
                                          src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                                      </div>
                                    </div>
                                    <div class="modal-body  " style="padding: 10px 2px 10px 2px;">
                                      <form [formGroup]="adminGeneralUserProfileFormView">
                                        <div class="container">
                                          <div class="row">
                                            <div class="col-md-12">
                                              <div class="row">
                                                <div class="col-md-2">
                                                  <div class="justify-content-center mt-5"
                                                    style="text-align: -webkit-center;">
                                                    <div
                                                      style="border-radius: 50% !important;width: 100px;height: 100px;">
                                                      <img class=""
                                                        style="padding: 7px; border: 1px solid #403D3D;border-radius: 50%;min-width: 100px;min-height: 100px;width: 100%;height: 100%;"
                                                        src="{{previewImg3}}">
                                                    </div>

                                                    <div class="container">
                                                      <div class="row ">
                                                        <div class="img-move input-group mb-3 mt-3"
                                                          style="justify-content: center;">
                                                          <input type="file" class="form-control" name="file"
                                                            id="inputGroupFile01" #fileInput
                                                            aria-describedby="inputGroupFileAddon01"
                                                            accept=".png, .jpg, .jpeg" (change)="fileProgress($event)"
                                                            class="d-none">
                                                          <span style="color: #160505;">{{adminTeam.firstName}}</span>

                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                </div>
                                                <div class="col-md-5">

                                                  <div class="form-group">
                                                    <div class="row">

                                                      <div class="col-md-12">
                                                        <label>User ID</label>
                                                        <input type="text"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;"
                                                          class="bg-white form-control " formControlName="userID">
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>First Name</label>
                                                        <input type="text"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;"
                                                          class="bg-white form-control" formControlName="firstName">
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Gender</label>
                                                        <div class="row radio-item"
                                                          style="padding-left: 34px;padding-bottom: 0px;">
                                                          <div class="col-6" style="padding-left: 0;margin: inherit;">
                                                            <label class="radio-inline"
                                                              style="font-size: 12px;font-weight: 500 ;color: #030000;letter-spacing: 0.5px;">
                                                              <input type="radio" name="gender" value="Male"
                                                                checked="checked" formControlName="gender">
                                                              &nbsp; Male
                                                            </label>
                                                          </div>

                                                          <div class="col-6" style="padding-left: 0;margin: inherit;">
                                                            <label class="radio-inline"
                                                              style="font-size: 12px;font-weight: 500 ;color: #030000;letter-spacing: 0.5px;">
                                                              <input type="radio" name="gender" value="Female"
                                                                formControlName="gender">&nbsp; Female
                                                            </label>
                                                          </div>
                                                        </div>
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group row " style="">
                                                    <div class="col-md-12">

                                                      <div class="viewPhNo"
                                                        style="padding-top: 3px;padding-bottom: 2px;">
                                                        <label class="numberLabel">Phone
                                                          Number</label>
                                                        <ngx-intl-tel-input class="form-control text-white "
                                                          style="padding-top: 4px;height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;"
                                                          [cssClass]="'custom'"
                                                          [preferredCountries]="preferredCountries"
                                                          [enableAutoCountrySelect]="false" [enablePlaceholder]="false"
                                                          [searchCountryFlag]="true"
                                                          [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                                          [selectFirstCountry]="false"
                                                          [selectedCountryISO]="CountryISO.India" [maxLength]="15"
                                                          [tooltipField]="TooltipLabel.Name" [phoneValidation]="true"
                                                          [separateDialCode]="separateDialCode" name="phone"
                                                          formControlName="checkPhone">

                                                        </ngx-intl-tel-input>

                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Password</label>
                                                        <input type="text" class="form-control bg-white"
                                                          formControlName="password"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;">
                                                      </div>

                                                    </div>
                                                  </div>


                                                </div>
                                                <div class="col-md-5">
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Email</label>
                                                        <input type="text" class="form-control bg-white"
                                                          formControlName="emailID"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;">
                                                      </div>

                                                    </div>
                                                  </div>

                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Last Name</label>
                                                        <input type="text" class="form-control bg-white"
                                                          formControlName="lastName"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;">
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">
                                                      <div class="col-md-12">
                                                        <label>Identity</label>
                                                        <select class="form-control bg-white" formControlName="identity"
                                                          style="padding-top: 3px;height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;">
                                                          <option *ngFor="let identity of identitys"
                                                            [value]="identity.value">
                                                            {{identity.value}}
                                                          </option>
                                                        </select>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Preferred Language</label>
                                                        <select class="form-control bg-white"
                                                          formControlName="preferLanguage"
                                                          style="padding-top: 3px;height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;">
                                                          <option *ngFor="let language of preferLanguages"
                                                            [value]="language.value">
                                                            {{language.value}}
                                                          </option>
                                                        </select>
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Department</label>
                                                        <select class="form-control bg-white"
                                                          formControlName="department"
                                                          style="padding-top: 3px;height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;color: #030000;">
                                                          <option *ngFor="let selectedDepartment of departments"
                                                            [value]="selectedDepartment.value">
                                                            {{selectedDepartment.value}}
                                                          </option>
                                                        </select>
                                                      </div>

                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </form>
                                    </div>
                                    <div class="modal-footer justify-content-center p-0 pb-3"
                                      style="border-top: transparent;">
                                      <div *ngIf="isLoading" style="display: flex; justify-content: center;">
                                        <mat-progress-spinner class="example-margin" color="primary"
                                          mode="indeterminate" [diameter]="30">
                                        </mat-progress-spinner>
                                      </div>
                                      <button type="submit" class="btn btn-sm  w-25" style="height: 30px;padding-top: 0px; font-weight: bold;font-size: 14px;
                                         background-color: #53B9C6; color: white;border-radius: 10px;line-height: 2;"
                                        (click)="deleteProject(adminTeam)" *ngIf="!isLoading">Delete This User</button>
                                      <!--[disabled]="addAdminGenUserForm.invalid"-->
                                    </div>
                                  </ng-template>

                                  <button mat-menu-item
                                    (click)="openEditAdminUserMethod(editAdminUserContent,adminTeam)">
                                    <!-- <mat-icon>edit</mat-icon> -->
                                    <span>Edit</span>
                                  </button>
                                  <ng-template #editAdminUserContent let-modal>
                                    <div class="modal-header p-2  justify-content-between"
                                      style="background-color: #53B9c6; color: white;font-weight: bold;">
                                      <span class="modal-title justify-content-start pl-3" id="modal-basic-title"
                                        style="font-size: 14px;font-weight: bold;">Edit
                                        User information</span>
                                      <div class="matIcon pr-3">
                                        <img style="width:18px;cursor: pointer;" class="crossImg"
                                          (click)="modal.dismiss('Cross click')"
                                          src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                                      </div>
                                    </div>
                                    <div class="modal-body  " style="padding: 2px;padding-top: 5px;">
                                      <!--p-3-->
                                      <form [formGroup]="adminGeneralUserProfileForm">
                                        <div class="container">
                                          <div class="row" style="padding:12px;">
                                            <div class="col-md-12">
                                              <div class="row" style="padding: 2px;">
                                                <p
                                                  style="font-size: 12px;padding-left: 10px;font-weight: 500;color: #140202;">
                                                  Fill below information to
                                                  add a user to access SpectroCare.
                                                </p>
                                              </div>
                                              <div class="row">
                                                <div class="col-md-2">

                                                  <div class="justify-content-center mt-5"
                                                    style="text-align: -webkit-center;">
                                                    <div
                                                      style="border-radius: 50% !important;width: 100px;height: 100px;">
                                                      <img class="" style="padding: 7px; border: 1px solid #403D3D;border-radius: 50%;
                                                        min-width: 100px;min-height: 100px;width: 100%;height: 100%;"
                                                        src="{{previewImg4}}">

                                                    </div>

                                                    <div class="container">
                                                      <div class="row ">
                                                        <div class="img-move input-group mb-3 mt-3">
                                                          <input type="file" class="form-control" name="file"
                                                            id="inputGroupFile01" #fileInput
                                                            aria-describedby="inputGroupFileAddon01"
                                                            accept=".png, .jpg, .jpeg" (change)="fileProgress1($event)"
                                                            class="d-none">
                                                          <button class="btn m-auto btn-sm " style="background-color: transparent;
                                                           color: #53b9c6 !important;border: 1px solid #53b9c6;
                                                            font-size: 14px; font-weight: 12px;"
                                                            (click)="fileInput.click()" type="button">
                                                            Choose Photo
                                                          </button>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                </div>
                                                <div class="col-md-5">

                                                  <div class="form-group">
                                                    <div class="row">

                                                      <div class="col-md-12">
                                                        <label>User ID</label>
                                                        <input type="text"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;"
                                                          class="bg-white form-control " formControlName="userID"
                                                          readonly>
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>First Name</label>
                                                        <input type="text"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;"
                                                          class="bg-white form-control" formControlName="firstName">
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Gender</label>
                                                        <div class="row radio-item "
                                                          style="padding-left: 34px;padding-bottom: 5px;">
                                                          <div class="col-6" style="padding-left: 0;margin: inherit;">
                                                            <label class="radio-inline"
                                                              style="font-size: 12px;font-weight: 500 ;color: #030000;letter-spacing: 0.5px;">
                                                              <input type="radio" name="gender" value="Male"
                                                                checked="checked" formControlName="gender">
                                                              &nbsp; Male
                                                            </label>
                                                          </div>

                                                          <div class="col-6" style="padding-left: 0;margin: inherit;">
                                                            <label class="radio-inline"
                                                              style="font-size: 12px;font-weight: 500 ;color: #030000;letter-spacing: 0.5px;">
                                                              <input type="radio" name="gender" value="Female"
                                                                formControlName="gender">&nbsp; Female
                                                            </label>
                                                          </div>
                                                        </div>
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group row ">
                                                    <div class="col-md-12">

                                                      <div class="editPhNo">
                                                        <label class="numberLabel" style="color: #3e454c;">Phone
                                                          Number</label>

                                                        <ngx-intl-tel-input class="form-control text-white "
                                                          style="padding-top: 4px;height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;"
                                                          [cssClass]="'custom'"
                                                          [preferredCountries]="preferredCountries"
                                                          [enableAutoCountrySelect]="false" [enablePlaceholder]="false"
                                                          [searchCountryFlag]="true"
                                                          [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                                          [selectFirstCountry]="false"
                                                          [selectedCountryISO]="CountryISO.India" [maxLength]="15"
                                                          [tooltipField]="TooltipLabel.Name" [phoneValidation]="true"
                                                          [separateDialCode]="separateDialCode" name="phone"
                                                          formControlName="checkPhone">
                                                        </ngx-intl-tel-input>
                                                      </div>
                                                    </div>
                                                  </div>

                                                </div>
                                                <div class="col-md-5">
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Email</label>
                                                        <input type="text" class="form-control bg-white"
                                                          formControlName="emailID"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;">
                                                      </div>

                                                    </div>
                                                  </div>

                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Last Name</label>
                                                        <input type="text" class="form-control bg-white"
                                                          formControlName="lastName"
                                                          style="height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;">
                                                      </div>

                                                    </div>
                                                  </div>

                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Identity</label>
                                                        <select class="form-control bg-white" formControlName="identity"
                                                          disabled
                                                          style="padding-top: 3px;height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;">
                                                          <option *ngFor="let identity of identitys"
                                                            [value]="identity.value">
                                                            {{identity.value}}
                                                          </option>
                                                        </select>

                                                      </div>

                                                    </div>
                                                  </div>

                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Preferred Language</label>
                                                        <select class="form-control bg-white"
                                                          formControlName="preferLanguage"
                                                          style="padding-top: 3px;height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;">
                                                          <option *ngFor="let language of preferLanguages"
                                                            [value]="language.value">
                                                            {{language.value}}
                                                          </option>
                                                        </select>
                                                      </div>

                                                    </div>
                                                  </div>
                                                  <div class="form-group">
                                                    <div class="row ">

                                                      <div class="col-md-12">
                                                        <label>Department</label>
                                                        <select class="form-control bg-white"
                                                          formControlName="department"
                                                          style="padding-top: 3px;height: 30px;font-size: 12px;border: 1px solid #707070;color: #030000;">
                                                          <option *ngFor="let selectedDepartment of departments"
                                                            [value]="selectedDepartment.value">
                                                            {{selectedDepartment.value}}
                                                          </option>
                                                        </select>
                                                      </div>

                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>


                                      </form>
                                    </div>
                                    <div class="modal-footer justify-content-center p-0 pb-3"
                                      style="border-top: transparent;">
                                      <div *ngIf="isLoading" style="display: flex; justify-content: center;">
                                        <mat-progress-spinner class="example-margin" color="primary"
                                          mode="indeterminate" [diameter]="30">
                                        </mat-progress-spinner>
                                      </div>
                                      <div style="text-align: center;width: 100%;">
                                        <button type="submit" class="btn btn-sm "
                                          style="width: 13%;height: 30px;padding-top: 0px;font-weight: 500;font-size: 14px; background-color: white;
                                         color: #474747;border: 1px solid #707070; margin-right: 10px;border-radius: 10px;line-height: 2;"
                                          (click)="modal.close('Close click')">Cancel</button>
                                        <button type="submit" class="btn btn-sm " style="width: 20%; height: 30px;
                                        padding-top: 0px;font-weight: bold;font-size: 14px;
                                           background-color: #53B9C6; color: white;border-radius: 10px;line-height: 2;"
                                          (click)="updateAdminGenUserSubmit()">Save Changes</button>
                                        <!--*ngIf="!isLoading"-->
                                        <!--[disabled]="addAdminGenUserForm.invalid"-->
                                      </div>
                                    </div>
                                  </ng-template>

                                  <button mat-menu-item (click)="openDeleteModal(content1)"
                                    *ngIf="(adminData1.hospitalAdmin.identity !== adminTeam.identity) && ( 'Administrator General' !== adminTeam.identity)">
                                    <span>Delete</span>
                                  </button>
                                  <ng-template #content1 let-modal>
                                    <div class="modal-body bg-white p-2 ">
                                      <div class="d-flex p-1">
                                        <div class="col-md-3 text-center p-3 m-0">
                                          <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                                            style="width: 80%; margin-top: 10px;">
                                        </div>
                                        <div class="col-md-9 p-2">
                                          <span class="" style="font-size: 17px;letter-spacing: 0px;color: #474747;">
                                            Are you sure you want to delete this user ?
                                          </span><br>
                                          <span class="" style="font-size: 12px;color: #A2A2A2;letter-spacing: 0px;">The
                                            user being deleted will
                                            not no longer be able to access the system. </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="modal-footer"
                                      style="display: block;border-top: transparent;padding-top: 0px;">
                                      <div class="row" *ngIf="isLoading"
                                        style="display: flex; justify-content: center;">
                                        <mat-progress-spinner class="example-margin" color="primary"
                                          mode="indeterminate" [diameter]="30">
                                        </mat-progress-spinner>
                                      </div>
                                      <div class="row" style="justify-content: center;">
                                        <button class="btn btn-sm mouse  mr-4" style="width: 20%;height: 30px;border: 1px solid #707070;color: #474747;letter-spacing: 0px;
                                          border-radius: 10px;font-size: 14px;"
                                          (click)="modal.close('Close click')">Cancel</button>
                                        <button type="submit" class="  btn btn-sm" style="width: 20%;height: 30px;border-radius: 10px;background-color: #53b9c6;
                                          color: white;font-weight: bold;font-size: 14px;"
                                          (click)="deleteProject(adminTeam)">Delete</button>
                                      </div>
                                    </div>
                                  </ng-template>
                                </mat-menu>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <!--Administrative User Data Handling close here-->

              </div>
            </div>
          </div>
        </mat-tab>
        <!--Administrative Part Close here-->

        <!--Medical Personnel User Part-->
        <mat-tab label="Medical Personnel User">
          <div class="container-fluid ">
            <div class="row" style="">
              <div class="col-md-12 p-3" style="background-color: #F5F8FA;">
                <!--style="padding: 0px;"-->
                <div class="card " *ngIf=" isViewAdmin">
                  <div class="p-2">
                    <input type="text" [(ngModel)]="term" class="p-2 w-100 " placeholder="Serch by Name" style="border: none; border-radius: 22px; outline-style: none !important;font-size: 14px; font-weight: 500;padding-right: 100%;
                      height: 34px;padding-left: 40px !important;background-color: #F5F5F5 ;"
                      (keyup)="findTextOnMedicalPersonnel(term)">
                  </div>
                  <div class="card-body p-2">
                    <div>
                      <div class="scroll tableFixHead">
                        <table class="table text-center">
                          <thead class="" style="background-color: #3E454C;border-radius: 6px;color: #ffffff;">
                            <tr class="medium" style="font-weight: normal;">
                              <th scope="col" class="border text-center">No</th>
                              <th scope="col" class="border  text-center">Identity</th>
                              <th scope="col" class="border text-center">User ID</th>
                              <th scope="col" class="border text-center">Name</th>
                              <th scope="col" class="border  text-center">Department</th>
                              <th scope="col" class="border text-center">Email</th>
                              <th scope="col" class="border text-center">Contact</th>
                              <th scope="col" class="border  text-center">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="!(medicalPersonnels && medicalPersonnels.length)"
                              style="text-align: center;background-color: white;padding: 20px;">
                              <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">
                                Don't have Medical Personnels
                              </td>
                            </tr>
                            <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
                            box-shadow: 0px 6px 12px #44444414;
                            border-radius: 6px;
                            opacity: 1;" *ngFor="let medicalTeam of medicalPersonnels | filter:term; let i = index">
                              <td scope="row" class="text-center">{{i+1}}</td>
                              <td class="pl-3">{{medicalTeam.profile.userProfile.department}}</td>
                              <td class="pl-3">{{medicalTeam.profile.userProfile.userID}}</td>
                              <td class="pl-3">{{medicalTeam.profile.userProfile.firstName}}</td>
                              <td class="pl-3">{{medicalTeam.profile.userProfile.department}}</td>
                              <td class="pl-3">{{medicalTeam.profile.userProfile.emailID}}</td>
                              <td class="pl-3">{{medicalTeam.profile.userProfile.phoneNumber.phoneNumber}}</td>
                              <td class="menu text-center p-2" style="color: #53B9C6;">
                                <img src="../../../assets/images/ui/Icons/1x/view.png"
                                  style="width: 30%;cursor: pointer;" (click)="openViewTwo(medicalTeam)">
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>

                <!--View Data Starts here-->
                <div *ngIf="!isViewAdmin" style="">
                  <!--padding-top: 5px;-->
                  <div class="shadow  p-2 pl-4 row justify-content-between bg-white">
                    <!--w-100-->
                    <h5 style="font-weight: 500; font-size: smaller;">Medical Personnel User Profile</h5>

                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="closeView()"
                      src="../../../assets/images/ui/Icons/1x/cancel.png">
                  </div>
                  <div class="medicalUserProfile container-fluid " style="background-color: #F5F8FA;padding: inherit;">
                    <div class="row" style="background-color: #F5F8FA;">
                      <div class="col-md-9 p-3">
                        <div class="card px-4">
                          <div class="card-body">
                            <div class="row pt-4">
                              <div class="col-md-7">
                                <form [formGroup]="medicalUserProfileForm">
                                  <!--(ngSubmit)="updateAdminGenUserSubmit()"-->
                                  <table align="center">
                                    <tr>
                                      <td>
                                        <mat-form-field class="example-full-width">
                                          <input matInput placeholder="User ID" formControlName="userID" class="inp"
                                            style="font-size: 14px;">
                                        </mat-form-field>
                                      </td>
                                      <td>
                                        <mat-form-field class="example-full-width">
                                          <input matInput placeholder="Identity" formControlName="specialization"
                                            class="inp" style="font-size: 14px;">
                                        </mat-form-field>
                                      </td>
                                    </tr>
                                  </table>
                                  <table align="center">
                                    <tr>
                                      <td>
                                        <mat-form-field class="example-full-width">
                                          <input matInput placeholder="First Name" formControlName="firstName"
                                            class="inp" style="font-size: 14px;">
                                        </mat-form-field>
                                      </td>
                                      <td>
                                        <mat-form-field class="example-full-width">
                                          <input matInput placeholder="Last Name" formControlName="lastName" class="inp"
                                            style="font-size: 14px;">
                                        </mat-form-field>
                                      </td>
                                    </tr>
                                  </table>

                                  <div class="row pb-3 pl-3">
                                    <label class="numberLabel" style="font-size: 14px;font-weight: 500;">Phone
                                      Number</label>
                                    <ngx-intl-tel-input class="medicalPerPh" style="font-size: 14px;"
                                      [cssClass]="'custom'" [preferredCountries]="preferredCountries"
                                      [enableAutoCountrySelect]="false" [enablePlaceholder]="false"
                                      [searchCountryFlag]="true"
                                      [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                      [selectFirstCountry]="false" [selectedCountryISO]="CountryISO.India"
                                      [maxLength]="15" [tooltipField]="TooltipLabel.Name" [phoneValidation]="true"
                                      [separateDialCode]="separateDialCode" name="phone" formControlName="checkPhone">
                                    </ngx-intl-tel-input>
                                    <div
                                      *ngIf="medicalUserProfileForm.get('checkPhone').touched && medicalUserProfileForm.get('checkPhone').dirty && medicalUserProfileForm.get('checkPhone').hasError('required')"
                                      style="color: red;font-size: small;">
                                      Phone Number is required.
                                    </div>
                                  </div>
                                  <mat-form-field>
                                    <input matInput placeholder="Email" formControlName="emailID" class="inp"
                                      style="font-size: 14px;">
                                  </mat-form-field><br>
                                  <mat-form-field>
                                    <input matInput placeholder="Department" formControlName="department" class="inp"
                                      style="font-size: 14px;">
                                  </mat-form-field>
                                  <mat-form-field class="example-full-width">
                                    <input matInput placeholder="User Type" formControlName="userType" class="inp"
                                      style="font-size: 14px;">
                                  </mat-form-field>

                                </form>
                              </div>
                              <div class="col-md-5">
                                <div class="row justify-content-between">
                                  <div class="justify-content-center"
                                    style="text-align: -webkit-center;padding-left: 20px;">
                                    <div style="border-radius: 50% !important;width: 100px;height: 100px;">
                                      <img class=""
                                        style="padding: 7px; border: 1px solid #53B9C6;border-radius: 50%;min-width: 100px;min-height: 100px;width: 100px;height: 100px;"
                                        src="{{previewImg2}}"
                                        onerror="this.src='../../../assets/images/ui/Icons/1x/profile-1.png';">

                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-3"></div>
                    </div>
                  </div>
                </div>
                <!--View Data Ends here-->
              </div>
            </div>
          </div>
        </mat-tab>
        <!--Medical Personnel PArt ends here-->
      </mat-tab-group>
    </div>
  </div>
</div>

<!--Add Admin General User Page using Model-->

<ng-template #content let-modal>
  <div class="modal-header p-2  justify-content-between" style="background-color: #53B9c6; color: #FFFFFF;">
    <span class="modal-title justify-content-start pl-3" style="font-weight: bold;" id="modal-basic-title">Add New
      User</span>
    <div class="matIcon pr-3">
      <img style="width:18px" class="crossImg" (click)="modal.dismiss('Cross click')"
        src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
    </div>
  </div>
  <div class="modal-body  " style="padding: 2px;">

    <form [formGroup]="addAdminGenUserForm">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="row" style="padding: 2px;">
              <p style="font-size: 12px;padding-left: 10px;color: #140202;">Fill below information to add a user to
                access SpectroCare.
              </p>
            </div>
            <div class="row">
              <div class="col-md-2">

                <div class="justify-content-center mt-5" style="text-align: -webkit-center;">
                  <div style="border-radius: 50% !important;width: 100px;height: 100px;">
                    <img class=""
                      style="border: 2px solid rgb(150, 211, 235);border-radius: 50%;min-width: 100px;min-height: 100px;width: 100%;height: 100%;"
                      src="{{previewImg}}">

                  </div>

                  <div class="container">
                    <div class="row ">
                      <div class="img-move input-group mb-3 mt-3">
                        <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                          aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg"
                          (change)="fileProgress($event)" class="d-none">
                        <button class="btn m-auto btn-sm "
                          style="background-color: transparent; color: #53B9C6 !important;border: 1px solid #53B9C6;font-weight: 500;font-size: 12px;"
                          (click)="fileInput.click()" type="button">
                          Choose Photo
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="col-md-5">

                <div class="form-group">
                  <div class="row">

                    <div class="col-md-12">
                      <label>User ID</label>
                      <input type="text"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;"
                        class=" form-control " formControlName="userID">
                    </div>

                  </div>
                </div>
                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>First Name</label>
                      <input type="text"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;"
                        class=" form-control" formControlName="firstName">
                    </div>

                  </div>
                </div>
                <div class="form-group" style="">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Gender</label>
                      <div class="row radio-item" style="padding-left: 34px;padding-bottom: 5px;">
                        <div class="col-6" style="padding-left: 0;margin: inherit;">
                          <label class="radio-inline"
                            style="font-size: 12px;font-weight: 500 ;color: #030000;letter-spacing: 0.5px;">
                            <input type="radio" name="gender" value="Male" checked="checked" formControlName="gender">
                            &nbsp; Male
                          </label>
                        </div>

                        <div class="col-6" style="padding-left: 0;margin: inherit;">
                          <label class="radio-inline"
                            style="font-size: 12px;font-weight: 500 ;color: #030000;letter-spacing: 0.5px;">
                            <input type="radio" name="gender" value="Female" formControlName="gender">&nbsp; Female
                          </label>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                <div class="form-group row ">
                  <div class="col-md-12">

                    <div class="addPhNo">
                      <label class="numberLabel" style="color: #140202;">Phone Number</label>
                      <ngx-intl-tel-input class="form-control text-white "
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;padding-top: 4px;"
                        [cssClass]="'custom'" [preferredCountries]="preferredCountries"
                        [enableAutoCountrySelect]="false" [enablePlaceholder]="false" [searchCountryFlag]="true"
                        [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                        [selectFirstCountry]="false" [selectedCountryISO]="CountryISO.India" [maxLength]="15"
                        [tooltipField]="TooltipLabel.Name" [phoneValidation]="true"
                        [separateDialCode]="separateDialCode" name="phone" formControlName="checkPhone">
                      </ngx-intl-tel-input>

                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Password</label>
                      <input type="text" class="form-control bg-white" formControlName="password"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;"
                        class=" form-control">
                    </div>

                  </div>
                </div>
                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Confirm Password</label>
                      <input type="text" class="form-control bg-white" formControlName="confirmpassword"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;"
                        class=" form-control ">
                      <div
                        *ngIf="addAdminGenUserForm.get('confirmpassword').hasError('checkPasswords') && addAdminGenUserForm.get('confirmpassword').touched">
                        <p>not same</p>
                      </div>
                      <div style='color:#ff7355'
                        *ngIf="addAdminGenUserForm.get('confirmpassword').touched && addAdminGenUserForm.get('password').value != addAdminGenUserForm.get('confirmpassword').value && addAdminGenUserForm.get('confirmpassword').value != null">
                        Password does not match</div>
                    </div>

                  </div>
                </div>


              </div>
              <div class="col-md-5">
                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Email</label>
                      <input type="text" class="form-control bg-white" formControlName="emailID"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;"
                        class=" form-control ">
                    </div>

                  </div>
                </div>

                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Last Name</label>
                      <input type="text" class="form-control bg-white" formControlName="lastName"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;"
                        class=" form-control ">
                    </div>

                  </div>
                </div>

                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Identity</label>
                      <select class="form-control bg-white" class=" form-control" formControlName="identity"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;padding-top: 3px;">
                        <option *ngFor="let identity of listOfIdenties" [value]="identity.value">
                          {{identity.value}}
                        </option>
                      </select>

                    </div>

                  </div>
                </div>

                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Preferred Language</label>
                      <select class="form-control bg-white" class=" form-control" formControlName="preferLanguage"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;padding-top: 3px;">
                        <option *ngFor="let language of preferLanguages" [value]="language.value">
                          {{language.value}}
                        </option>
                      </select>
                    </div>

                  </div>
                </div>
                <div class="form-group">
                  <div class="row ">

                    <div class="col-md-12">
                      <label>Department</label>
                      <select class="form-control bg-white" class=" form-control" formControlName="department"
                        style="height: 30px;font-size: 12px;border: 1px solid #707070;border-radius: 2px;padding-top: 3px;">
                        <option *ngFor="let selectedDepartment of departments" [value]="selectedDepartment.value">
                          {{selectedDepartment.value}}
                        </option>
                      </select>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


    </form>
  </div>
  <div class="modal-footer justify-content-center pb-3" style="border-top: transparent;">
    <div *ngIf="isLoading" style="display: flex; justify-content: center;">
      <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
      </mat-progress-spinner>
    </div>
    <div style="text-align: center;width: 100%;">
      <button type="submit" class="btn btn-sm" style="width: 15%;height: 30px;padding-top: 2px; font-weight: 500;font-size: 14px; color: #474747;
        border:1px solid #707070;margin-right: 15px;border-radius: 10px;"
        (click)="modal.dismiss('Cross click')">Cancel</button>
      <button type="submit" class="btn btn-sm" style="width: 15%;height: 30px;padding-top: 2px; font-weight: bold;font-size: 14px; 
        background-color: #53B9C6; color: white;border-radius: 10px;" (click)="addAdminGenUserSubmit()">Add</button>
      <!-- *ngIf="!isLoading" -->
    </div>
    <!--[disabled]="addAdminGenUserForm.invalid"-->
  </div>
</ng-template>