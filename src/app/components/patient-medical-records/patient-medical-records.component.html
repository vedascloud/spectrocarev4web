<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
<div class="container-fluid pb-5" style="background-color: #F5F8FA;">
  <div class="row">
    <div class="col-md-9"></div>
    <div class="col-md-3">
      <div class="calender-show pl-3 " style="background-color: #F5F8FA; justify-content: flex-end; ">
        <input placeholder="2020-03-13" [value]="presentDate" class=" pl-3" ngbDatepicker #d="ngbDatepicker" readonly>
        <div class="calenderLogo" style="margin-top: -30px;
            margin-left: 190px;">
          <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="row p-4 w-25" style="background-color: #F5F8FA;">
    <div class="form-control" style="background-color: #53b9c6; color: white !important;padding: 5px;">
      <mat-select (selectionChange)="showData($event.value)" [value]="selected"
        style="color: white !important;border: none !important;">
        <mat-option *ngFor="let letSearch of searchByValue" [value]="letSearch.viewValue">
          {{letSearch.viewValue}}
        </mat-option>
      </mat-select>
    </div>
  </div>

  <div class="row" style="padding-left: 35px;" *ngIf="!isViewPhysicalExamination">
    <div class="row bg-white px-2 py-2 pr-4 w-100 justify-content-between">
      <span class="tableHead justify-content-center" id="modal-basic-title">Physical Examination</span>
      <img style="width: 1.35rem;cursor: pointer;" class="crossImg"
        (click)="viewAddPhysicalExamContent(addPhysicalExamContent)"
        src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png">
    </div>
    <div class="row scroll w-100 tableFixHead">
      <table class="table text-center ">
        <thead class="" style="background-color: #3e454c;color: white;">
          <tr class="medium" style="font-weight: normal;height: 40px;
          line-height: 2;">
            <th scope="col" class="border text-center">No</th>
            <th scope="col" class="border  text-center">Date/Time</th>
            <th scope="col" class="border text-center">Doctor ID</th>
            <th scope="col" class="border text-center">Record ID</th>
            <th scope="col" class="border  text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="!(PhysicalExamination && PhysicalExamination.length)"
            style="text-align: center;background-color: white;padding: 20px;">
            <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">Don't have Physical Examination
              Records
            </td>
          </tr>
          <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
          box-shadow: 0px 6px 12px #44444414;
          border-radius: 6px;
          opacity: 1;" *ngFor="let selectedInvoicesData of PhysicalExamination ; let i = index">
            <td scope="row" class="text-center">{{i+1}}</td>
            <td class="tdData" style="padding-left: 11%;">{{selectedInvoicesData.updatedDate | date:"MM/dd/yy"}}</td>
            <td class="tdData" style="padding-left: 8%;">{{selectedInvoicesData.tracking[0].byWhomID}}</td>
            <td class="tdData" style="padding-left: 9%;">{{selectedInvoicesData.physical_exam_id}}</td>
            <td class="menu text-center text-info" style="padding: 0px; overflow: hidden; padding-top: 5px;">
              <button [matMenuTriggerFor]="beforeMenu" aria-label="Example icon-button with a menu" style="color: #53b8c5;background-color: Transparent;
              background-repeat:no-repeat;
              border: none;
              cursor:pointer;
              overflow: hidden;
              outline:none;">
                <img style="width: 0.32rem;" class="crossImg" src="../../../assets/images/ui/Icons/1x/menu.png">
              </button>
              <mat-menu #menu="matMenu" class="menudata" #beforeMenu="matMenu" xPosition="before">
                <button mat-menu-item class="menuItembtn" (click)="openViewModal(viewContent)"
                  style="outline: none !important;">
                  <span>View</span>
                </button>

                <ng-template #viewContent let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Physical Exam Record</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll2">
                    <div class="row px-3">
                      <div class="col-6">
                        <div class="row">
                          <label style="font-weight: 600;font-size: 12px;color: #130505;">Date : &nbsp;</label>
                          <span
                            style="font-size: 12px;font-weight: 500;color: #535353;">{{selectedInvoicesData.createdDate | date:"dd/MM/yy"}}</span>
                        </div>
                        <div class="row">
                          <label style="font-weight: 600;font-size: 12px;color: #130505;">Time : &nbsp; </label>
                          <span style="font-size: 12px;font-weight: 500;color: #535353;">
                            {{selectedInvoicesData.createdDate | date:'mediumTime'}}
                          </span>
                          <!--{{selectedInvoicesData.physical_exam_id}}-->
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="row">
                          <label style="font-weight: 600;font-size: 12px;color: #130505;">Doctor : &nbsp; </label>
                          <span
                            style="font-size: 12px;font-weight: 500;color: #535353;">{{selectedInvoicesData.tracking[0].byWhomName}}</span>
                        </div>
                        <div class="row">
                          <label style="font-weight: 600;font-size: 12px;color: #130505;">Creator : &nbsp; </label>
                          <span
                            style="font-size: 12px;font-weight: 500;color: #535353;">{{selectedInvoicesData.tracking[0].byWhomName}}</span>
                        </div>
                      </div>
                    </div>

                    <fieldset class="" style="width: inherit;padding: 10px 10px 10px 10px;border: 1px solid #707070;">
                      <legend style="font-size: 12px;font-weight: 600;line-height: 1;color: #000000;"
                        class="w-auto p-2 pt-3">Basic
                        Exam</legend>
                      <div class="border-0">
                        <div *ngIf="!selectedInvoicesData.bodyIndex" class="p-3">
                        </div>
                        <div *ngIf="selectedInvoicesData.bodyIndex">
                          <div style="justify-content: center;margin-bottom: -20px;">

                            <div class="row " style="padding: 0px 5px 0px 22px;">
                              <div class="col-6 "
                                style="border-right:  1px solid #707070; padding-left: 30px;margin-bottom: auto;">
                                <div class="row">
                                  <label style="font-weight: 600;font-size: 12px;color: #706F6F;">Height :
                                    &nbsp;</label>
                                  <span
                                    style="font-weight: 600;font-size: 12px;color: #000000;">{{selectedInvoicesData.bodyIndex.height}}</span>
                                </div>
                                <div class="row">
                                  <label style="font-weight: 600;font-size: 12px;color: #706F6F;">Weight :
                                    &nbsp;</label>
                                  <span
                                    style="font-weight: 600;font-size: 12px;color: #000000;">{{selectedInvoicesData.bodyIndex.weight}}</span>
                                </div>
                                <div class="row">
                                  <label style="font-weight: 600;font-size: 12px;color: #706F6F;">Waistline :
                                    &nbsp;</label>
                                  <span
                                    style="font-weight: 600;font-size: 12px;color: #000000;">{{selectedInvoicesData.bodyIndex.waistline}}</span>
                                </div>
                                <div class="row">
                                  <label style="font-weight: 600;font-size: 12px;color: #706F6F;">Blood Pressure :
                                    &nbsp;</label>
                                  <span
                                    style="font-weight: 600;font-size: 12px;color: #000000;">{{selectedInvoicesData.bodyIndex.bloodPressure}}</span>
                                </div>
                              </div>
                              <div class="col-6 p-5">

                                <div class="row">
                                  <label style="font-weight: 600;font-size: 14px;color: #000000;">BMI : &nbsp;</label>
                                  <span
                                    style="font-weight: 600;font-size: 14px;color: #000000;">{{selectedInvoicesData.bodyIndex.bmi}}</span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>


                    <fieldset class="" style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                      <legend style="font-size: 12px;font-weight: 600;line-height: 2;color: #000000;"
                        class="w-auto p-2 pt-3">System
                        Review & Exam</legend>
                      <div class="border-0 ">
                        <!--scroll-->
                        <div *ngIf="!selectedInvoicesData.physicalExamination">
                          <div class="" style=" height: 5vh;">

                          </div>
                        </div>
                        <div *ngIf="selectedInvoicesData.physicalExamination">
                          <table class="table  table-sm table-bordered" style="position: relative;">
                            <thead class="" style="background-color: #f3f2f2;color: #000000;">
                              <tr>
                                <th scope="col" style="font-weight: 600;font-size: 12px;text-align: center;">Items</th>
                                <th scope="col" style="font-weight: 600;font-size: 12px;text-align: center;">Results
                                </th>
                                <th scope="col" style="font-weight: 600;font-size: 12px;text-align: center;">Notes</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr
                                *ngFor="let physicalExaminationValue of selectedInvoicesData.physicalExamination; let i = index">
                                <td class="" style="text-align: start;font-weight: 500;font-size: 12px;">
                                  {{physicalExaminationValue.category}}
                                </td>
                                <td style="font-weight: 500;font-size: 12px;">
                                  {{physicalExaminationValue.result}}
                                </td>
                                <td style="font-weight: 500;font-size: 12px;">
                                  {{physicalExaminationValue.description}}
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </fieldset>

                    <fieldset class=" " style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                      <legend style="font-size: 12px;font-weight: 600;line-height: 2;color: #000000;"
                        class="w-auto p-2 pt-3">
                        Physician's comments and
                        recommendations</legend>
                      <div class="border-0 p-3">
                        <div *ngIf="!selectedInvoicesData.physicianCommentsOrRecomdations">

                        </div>
                        <div *ngIf="selectedInvoicesData.physicianCommentsOrRecomdations"
                          style="font-weight: 500;font-size: 12px;color: #000000;">
                          {{selectedInvoicesData.physicianCommentsOrRecomdations}}
                        </div>
                      </div>
                    </fieldset>

                    <fieldset class="" style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                      <legend style="font-size: 12px;font-weight: 600;line-height: 2;color: #000000;"
                        class="w-auto p-2 pt-3">File /
                        Document</legend>
                      <div class="border-0 p-3">
                        <div *ngIf="!selectedInvoicesData.attachment">

                        </div>
                        <div class="row justify-content-around" *ngIf="selectedInvoicesData.attachment">
                          <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                            class="mr-1">
                          <span style="font-size: 12px; font-weight: 500;color: #140202;">
                            {{selectedInvoicesData.attachment.split('/')[3]}}
                          </span>
                          <a href="http://3.92.226.247:3000{{selectedInvoicesData.attachment}}">
                            <img class="handCursor" width="13px"
                              src="../../../assets/images/ui/Icons/patient-medical-module/Icon feather-download.png">
                          </a>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="modal-footer justify-content-center" style="border-top: transparent;">
                    <button class="btn btn-sm" style="outline-style: none; font-weight: 500;font-size: 14px; background-color: #53B9C6;
                       color: white;height: 30px;border-radius: 10px;width: 20%;line-height: 1;"
                      (click)="modal.close('Close click')">Close
                    </button>
                  </div>
                </ng-template>

                <button mat-menu-item (click)="openEditPhyExamModal(viewEditPhyExamContent,selectedInvoicesData)">
                  <span>Edit</span>
                </button>
                <ng-template #viewEditPhyExamContent let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Edit Physical Exam
                      Record</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll2">
                    <!-- *ngIf="selectedInvoicesData"-->
                    <div class="row justify-content-center pb-2 mat-blue">
                      <mat-button-toggle-group aria-label="Font Style">
                        <mat-button-toggle [ngStyle]="{'pointer-events': HaveBodyIndex ? 'none' : 'all'}"
                          style="font-size: 14px;" (click)="viewManualInput()" [style.background-color]="color"
                          [style.color]="textColor">Manual
                          Input
                        </mat-button-toggle>
                        <mat-button-toggle [ngStyle]="{'pointer-events': HaveBodyIndex ? 'none' : 'all'}"
                          style="font-size: 14px;" (click)="viewAttachment()" [style.background-color]="color1"
                          [style.color]="textColor1">
                          Attachment</mat-button-toggle>
                        <!-- [disabled]="HaveBodyIndex" [disabled]="havingData == '2'"-->
                      </mat-button-toggle-group>
                    </div>
                    <div *ngIf="viewManualInputView">
                      <form (ngSubmit)="updatePatientManualSubmit(selectedInvoicesData)">
                        <div class="row justify-content-start pl-3 pb-2">
                          <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
                            <mat-button-toggle style="font-size: 14px;" (click)="viewBasicExam()"
                              [style.background-color]="color2" [style.color]="textColor2">Basic Exam
                            </mat-button-toggle>
                            <mat-button-toggle style="font-size: 14px;" (click)="viewSystemExam()"
                              [style.background-color]="color3" [style.color]="textColor3">System
                              Exam
                            </mat-button-toggle>
                          </mat-button-toggle-group>
                        </div>
                        <div class=" p-2" *ngIf="viewBasicEx" style="border: 1px solid #707070;">
                          <div class="scroll1">
                            <div *ngIf="haveBodyIndexData">
                              <div>Don't have Physical Exam Records
                              </div>
                            </div>
                            <div *ngIf="!haveBodyIndexData">
                              <form [formGroup]="basicExamEditForm">

                                <div class="row justify-content-center pb-3">
                                  <div class="col-md-6 ">
                                    <div class="row ml-2 pl-1 pb-1">
                                      <span class="modelBodyHead"
                                        style="font-size: 12px;font-weight: 600;color: #140202;">Height</span>
                                    </div>
                                    <div class="row justify-content-center  ">
                                      <div class="" style="padding-left: 15px;margin-left: -7px;">
                                        <input type="number" placeholder="" formControlName="height"
                                          (input)="onSearchChange2($event.target.value)"
                                          style=" height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #CCCCCC;"
                                          class="form-control bg-white ">
                                        <div class="cm" style="color: #140202;">CM</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-6 ">
                                    <div class="row ml-2 pl-1 pb-1">
                                      <span class="modelBodyHead"
                                        style="font-size: 12px;font-weight: 600;color: #140202;">Weight</span>
                                    </div>
                                    <div class="row justify-content-center  ">
                                      <div class="" style="padding-left: 15px;margin-left: -7px;">
                                        <input type="number" placeholder="" formControlName="weight"
                                          (input)="onSearchChange3($event.target.value)"
                                          style=" height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #CCCCCC;"
                                          class="form-control bg-white ">
                                        <div class="cm" style="color: #140202;">KG</div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="row justify-content-center pb-3">
                                  <div class="col-md-6 ">
                                    <div class="row ml-2 pl-2 pb-1">
                                      <span class="modelBodyHead"
                                        style="font-size: 12px;font-weight: 600;color: #140202;">BMI</span>
                                    </div>
                                    <div class="row justify-content-center  ">
                                      <div class="" style="margin-left: -22px;">
                                        <input type="number" placeholder="" formControlName="bmi" readonly
                                          style=" height: 30px;font-size: 12px;font-weight: 500;width: 118%;color: #140202;border: 1px solid #CCCCCC;"
                                          class="form-control bg-white ">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-6 ">
                                    <div class="row ml-2 pl-2 pb-1">
                                      <span class="modelBodyHead"
                                        style="font-size: 12px;font-weight: 600;color: #140202;">BMR</span>
                                    </div>
                                    <div class="row justify-content-center  ">
                                      <div class="" style="margin-left: inherit;">
                                        <input type="number" placeholder="" formControlName="bmr" readonly
                                          style=" height: 30px;font-size: 12px;font-weight: 500;width: 118%;color: #140202;border: 1px solid #CCCCCC;"
                                          class="form-control bg-white ">
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="row justify-content-center pb-3">
                                  <div class="col-md-6 ">
                                    <div class="row ml-2 pl-2 pb-1">
                                      <span class="modelBodyHead"
                                        style="font-size: 12px;font-weight: 600;color: #140202;">Waistline</span>
                                    </div>
                                    <div class="row justify-content-center  ">
                                      <div class="" style="padding-left: 15px;margin-left: -7px;">
                                        <input type="number" placeholder="" formControlName="waistline"
                                          style=" height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #CCCCCC;"
                                          class="form-control bg-white ">
                                        <div class="cm" style="color: #140202;">CM</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-md-6 ">
                                    <div class="row ml-2 pl-2 pb-1">
                                      <span class="modelBodyHead"
                                        style="font-size: 12px;font-weight: 600;color: #140202;">Blood
                                        Pressure</span>
                                    </div>
                                    <div class="row justify-content-center  ">
                                      <div class="" style="padding-left: 50px;margin-left: -7px;">
                                        <input type="text" placeholder="" formControlName="bloodPressure"
                                          style=" height: 30px;font-size: 12px;font-weight: 500;width: 85%;color: #140202;border: 1px solid #CCCCCC;"
                                          class="form-control bg-white ">
                                        <div class="mmhg" style="color: #140202;">mmHg</div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>

                        <div class="row justify-content-center m-0 p-1" style="border: 1px solid #707070;"
                          *ngIf="viewSystemEx">
                          <form>
                            <div class="scroll1 " style="width: 420px;border: 1px solid #707070;">
                              <div class="border p-1"
                                *ngFor="let selectedPatSystemExamDataValue of selectedPatSystemExamData; let i = index">
                                <div class="row w-100 pl-3 ml-0 p-2"
                                  style="background-color: #fbfbfb;font-size: 12px;font-weight: bold; color: #3e454c;">
                                  {{selectedPatSystemExamDataValue.category}}
                                </div>
                                <div class="row p-2">
                                  <div class="col-5">
                                    <div class="radio-item" style="margin-left: 0px;">
                                      <input type="radio" name="categoryOpt_{{i}}"
                                        [(ngModel)]="selectedPatSystemExamDataValue.result" value="Normal">
                                      <label style="font-size: 12px;font-weight: 500;color: #000000;">&nbsp;
                                        Normal</label><br>
                                      <input type="radio" name="categoryOpt_{{i}}"
                                        [(ngModel)]="selectedPatSystemExamDataValue.result" value="Abnormal">
                                      <label style="font-size: 12px;font-weight: 500;color: #000000;">&nbsp;
                                        Abnormal</label><br>
                                      <input type="radio" name="categoryOpt_{{i}}"
                                        [(ngModel)]="selectedPatSystemExamDataValue.result" value="Not Examined">
                                      <label style="font-size: 12px;font-weight: 500;color: #000000;">&nbsp; Not
                                        Examined</label>
                                    </div>
                                  </div>
                                  <div class="col-7">

                                    <form>
                                      <textarea class="form-control" rows="4"
                                        style="font-size: 12px;font-weight: 500;color: #000000;border: 1px solid #E1E1E1;"
                                        [(ngModel)]="selectedPatSystemExamDataValue.description"
                                        [ngModelOptions]="{standalone: true}">{{selectedPatSystemExamDataValue.description}}</textarea>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <form [formGroup]="belowEditForm">
                              <div class="pt-2">
                                <fieldset class=" "
                                  style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                  <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                    class="w-auto p-2 pt-3">Other</legend>
                                  <textarea class="form-control border-0" rows="2" style=""
                                    formControlName="other"></textarea>
                                </fieldset>
                              </div>
                              <div class="pt-2">
                                <fieldset class=""
                                  style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                  <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                    class="w-auto p-2 pt-3">Physician Comment</legend>
                                  <textarea class="form-control border-0" rows="3" style=""
                                    formControlName="physicianCommentsOrRecomdations"></textarea>
                                </fieldset>
                              </div>
                            </form>
                          </form>
                        </div>
                        <div style="text-align: center;" class="" style="padding-top: 15px;" *ngIf="hideOnBasicExam">
                          <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                            <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                              [diameter]="30">
                            </mat-progress-spinner>
                          </div>
                          <div style="text-align: center;">
                            <button class="btn btn-sm mr-3"
                              style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 20%;border-radius: 10px;"
                              (click)="modal.close('Close click')">Cancel
                            </button>
                            <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 30%;border-radius: 10px;">Save Changes
                            </button> <!-- (click)="updatePatientManualSubmit(selectedInvoicesData)"-->
                            <!--addPatientPhysicalExamManually(physicalExaminationData)-->
                          </div>
                        </div>
                      </form>
                    </div>
                    <div *ngIf="viewAttachmentView">
                      <div class="row justify-content-start pl-4 pb-4 pt-4">
                        <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
                          <mat-button-toggle style="font-size: 14px; background-color: #3e4542;color: white;">File /
                            Document</mat-button-toggle>
                        </mat-button-toggle-group>
                      </div>
                      <div style="height: 300px;">

                        <form [formGroup]="editPatientPhysicalExamFileForm"
                          (ngSubmit)="addPatientPhysicalExamFileSubmit()">

                          <div *ngIf="isNoFile" style="border: 1px solid #b3b2b2;padding: 20px;">
                            <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                                margin-left: 10px;margin-right: 20px; margin-bottom: 10px;
                                height: 130px;">
                              <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                                <div class="row justify-content-center pt-4 pb-2">
                                  <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                                </div>
                                <div class="row justify-content-center ">
                                  <span style="font-size: 14px;">No Files</span>
                                </div>
                              </div>
                            </div>

                            <div class="d-flex border p-2" *ngIf="isNoFile" style="border-radius: 5px;">
                              <div class="col-2" style="justify-content: center;">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                  class="">
                              </div>
                              <div class="col-8" style="justify-content: start;">
                                <span style="font-size: 12px;font-weight: 600; ">{{fileName}} {{fileSize}}
                                  {{fileValue}}</span>
                              </div>
                              <div class="col-2" style="text-align: end;">
                                <div class=" ">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                    class=" handCursor " width="30%" style="margin-right: 3px;"
                                    (click)="removeUploadedFile1()">
                                </div>
                              </div>
                            </div>

                            <div class="row py-2 " *ngIf="!isNoFile">
                              <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                                aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                                (change)="fileProgress1($event)" class="d-none">
                              <div style="padding-left: 24px;" (click)="fileInput.click()">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                  width="20rem" class="handCursor">
                                <span class="px-3 handCursor" style="font-size: 14px;">Add New File / Document</span>
                              </div>

                            </div>
                          </div>

                          <div *ngIf="!isNoFile">
                            <div class=" p-1 border mx-4 pl-2 pt-1 pb-2 mb-2 d-flex justify-content-around"
                              style="border-radius: 5px;"
                              *ngIf="fetchedPatPhyExamAttachments && fetchedPatPhyExamAttachments.split('/')">
                              <div class="col-md-10">
                                <div class="d-flex row">
                                  <div>
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                      class="mr-1">
                                  </div>
                                  <div class="">
                                    <span
                                      style="font-size: 9px;font-weight: 600; ">{{ fetchedPatPhyExamAttachments.split('/')[3] }}</span>

                                  </div>
                                </div>
                              </div>
                              <div class="col-md-2" style="text-align: end;">
                                <!--(click)="openDeletePhyExamModalAttachment(viewDeletePhyExamContentAttachment)"-->
                                <div class=" ">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                    class=" handCursor " width="30%" style="margin-right: 3px;">
                                </div>
                              </div>

                              <ng-template #viewDeletePhyExamContentAttachment let-modal>
                                <div class="modal-body">
                                  <div class="d-flex p-1">
                                    <div class="col-md-4 text-center p-3 m-0">
                                      <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                                        style="width: 80%; margin-top: 10px;">
                                    </div>
                                    <div class="col-md-8 p-2">
                                      <span class=" " style="font-size: 14px;font-weight: 600;color: #474747;">
                                        Delete Physical Exam Record
                                      </span><br>
                                      <span class="" style="font-size: 12px;font-weight: 500;color: #000000;">Are you
                                        sure you want to delete this
                                        physical exam
                                        record ? </span>
                                    </div>
                                  </div>
                                  <div style="text-align: center;" class="py-2">
                                    <div *ngIf="isLoading"
                                      style="display: flex; justify-content: center; padding-bottom: 5px;">
                                      <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                                        [diameter]="30">
                                      </mat-progress-spinner>
                                    </div>
                                    <div>
                                      <button class="btn btn-sm mr-3"
                                        style="outline-style: none; font-weight: 500;font-size: medium;height: 30px; background-color:transparent; color: black;border: 1px solid black;"
                                        (click)="modal.close('Close click')">Cancel
                                      </button>
                                      <button class="btn btn-sm"
                                        style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;height: 30px;"
                                        (click)="deletePatientPhyExamDataAttachment(selectedInvoicesData)"
                                        (click)="modal.close('Close click')">Delete
                                      </button>
                                    </div>
                                  </div>
                                </div>
                              </ng-template>

                            </div>
                          </div>

                          <div style="text-align: center;" class="py-2" style="padding-top: 30px;text-align: center;">
                            <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                              <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                                [diameter]="30">
                              </mat-progress-spinner>
                            </div>
                            <button class="btn btn-sm mr-3"
                              style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 20%;border-radius: 10px;"
                              (click)="modal.close('Close click')">Cancel
                            </button>
                            <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 30%;border-radius: 10px;">Save Changes
                            </button>
                          </div>
                        </form>


                      </div>
                    </div>

                  </div>

                </ng-template>

                <button mat-menu-item (click)="openDeletePhyExamModal(viewDeletePhyExamContent)">
                  <!--(click)="openDeleteModal(deleteContent)"-->
                  <span>Delete</span>
                </button>
                <ng-template #viewDeletePhyExamContent let-modal>
                  <div class="modal-body">
                    <div class="d-flex p-1">
                      <div class="col-md-4 text-center p-3 m-0">
                        <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                          style="width: 80%; margin-top: 10px;">
                      </div>
                      <div class="col-md-8" style="text-align: center;padding: 30px 30px 15px 30px;">
                        <span class=" font-weight-small" style="font-size: 14px;font-weight: 600;color: #474747;">
                          Delete Physical Exam Record
                        </span><br><br>
                        <span class="" style="font-size: 12px;font-weight: 500;color: #000000;">Are you sure you want to
                          delete this physical exam
                          record ? </span>
                      </div>
                    </div>
                    <div style="text-align: center;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>
                      <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-8">
                          <button class="btn btn-sm mr-3"
                            style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="modal.close('Close click')">Cancel
                          </button>
                          <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="deletePatientPhyExamData(selectedInvoicesData)">Delete
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-template>

              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row" style="padding-left: 35px;" *ngIf="!isViewMedicalHistory">
    <div class="row bg-white px-2 py-2 pr-4 w-100 justify-content-between">
      <span class="tableHead justify-content-center" id="modal-basic-title">Medical History</span>
      <img style="width: 1.35rem;cursor: pointer;" class="crossImg"
        (click)="openAddMedicalHistoryMethod(addMedicalHistoryModel)"
        src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png">
    </div>
    <div class="row scroll w-100 tableFixHead">
      <table class="table text-center ">
        <thead class="" style="background-color: #3e454c;color: white;">
          <tr class="medium" style="font-weight: normal;height: 40px;
          line-height: 2;">
            <th scope="col" class="border text-center">No</th>
            <th scope="col" class="border  text-center">Date/Time</th>
            <th scope="col" class="border text-center">Illness ID</th>
            <th scope="col" class="border text-center">Treatment</th>
            <th scope="col" class="border text-center">Doctor ID</th>
            <th scope="col" class="border text-center">Medical Record ID</th>
            <th scope="col" class="border  text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="!(MedicalHistory && MedicalHistory.length)"
            style="text-align: center;background-color: white;padding: 20px;">
            <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">Don't have Medical History
              Records
            </td>
          </tr>
          <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
          box-shadow: 0px 6px 12px #44444414;
          border-radius: 6px;
          opacity: 1;" *ngFor="let selectedMedicalHistory  of MedicalHistory ; let i = index">
            <!--MedicalHistory-->
            <td scope="row" class="text-center">{{i+1}}</td>
            <td class="" style="padding-left: 5%;">{{selectedMedicalHistory.addedDate | date:"MM/dd/yy"}}</td>
            <td class="" style="padding-left: 7%;">{{selectedMedicalHistory.illnessID}}</td>
            <td class="" style="padding-left: 5%;">{{selectedMedicalHistory.currentStatus}}</td>
            <td class="" style="padding-left: 3%;">{{selectedMedicalHistory.medical_personnel_id}}</td>
            <td class="" style="padding-left: 5%;">{{selectedMedicalHistory.medical_record_id}}</td>
            <td class="menu text-center text-info" style="padding: 0px; overflow: hidden; padding-top: 5px;">
              <button [matMenuTriggerFor]="beforeMenu" aria-label="Example icon-button with a menu" style="color: #53b8c5;background-color: Transparent;
              background-repeat:no-repeat;
              border: none;
              cursor:pointer;
              overflow: hidden;
              outline:none;">
                <img style="width: 0.32rem;" class="crossImg" src="../../../assets/images/ui/Icons/1x/menu.png">
              </button>
              <mat-menu #menu="matMenu" class="menudata" #beforeMenu="matMenu" xPosition="before">
                <button mat-menu-item class="menuItembtn" style="outline: none !important;"
                  (click)="openViewMedicalHistoryMethod(viewMedicalHistoryModel,selectedMedicalHistory)">
                  <span>View</span>
                </button>

                <ng-template #viewMedicalHistoryModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Patient Medical
                      History</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll3" style="padding-top: 5px;">
                    <div class="p-2">
                      <div class="row p-2"
                        style="background-color: #f5f5f5; font-size: 12px; font-weight: 600;color: #000000;">
                        Patient Information
                      </div>
                      <div class="pl-3 py-2">
                        <div class="row pb-1">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Date : &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicalHistory.addedDate | date:"dd/MM/yy"}}</span>
                        </div>
                        <div class="row pb-1">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Illness Condition :
                            &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicalHistory.illnessCondition}}</span>
                        </div>
                        <div class="row pb-1">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Start Date :
                            &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicalHistory.startDate | date:"dd/MM/yy"}}</span>
                        </div>
                        <div class="row pb-1">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">End Date :
                            &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px;font-weight: 600;color: #000000;">{{selectedMedicalHistory.endDate | date:"dd/MM/yy"}}</span>
                        </div>
                        <div class="row pb-1">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Symptoms :
                            &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px;font-weight: 600;color: #000000;">{{selectedMedicalHistory.symptoms}}</span>
                        </div>
                        <div class="row pb-1">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Description :
                            &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px;font-weight: 600;color: #000000;">{{selectedMedicalHistory.description}}</span>
                        </div>
                        <div class="row">
                          <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Treatment :
                            &nbsp;&nbsp;</label>
                          <span
                            style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicalHistory.currentStatus}}</span>
                        </div>
                      </div>
                    </div>
                    <div class="p-2">
                      <div class="row p-2"
                        style="background-color: #f5f5f5; font-size: 12px; font-weight: 600;color: #000000;">
                        Diagnostic Notes
                      </div>
                      <div class="pl-3 py-2">
                        <form [formGroup]="viewPatDiagnosticForm">
                          <div class="row pb-1">
                            <label style="font-size: 12px;">Date of Diagnosis : &nbsp;&nbsp;</label>
                            <input style="font-size: 12px; font-weight: 600;border: none;padding-bottom: 7px;"
                              formControlName="diagnosisDate">
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;">Doctor Name : &nbsp;&nbsp;</label>
                            <input style="font-size: 12px; font-weight: 600;border: none;padding-bottom: 7px;"
                              formControlName="doctorName">
                          </div>
                          <div class="row pb-1">
                            <div class="row" style="padding-left: 15px;">
                              <fieldset class=""
                                style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                  class="w-auto p-2 pt-3">
                                  Diagnosis</legend>
                                <textarea style="font-size: 12px;font-weight: 500;color: #000000;" class="p-2 border-0"
                                  rows="3" cols="65" formControlName="diagnosis"></textarea>
                              </fieldset>
                            </div>
                          </div>
                          <div class="row pb-1">
                            <div class="row" style="padding-left: 15px;">
                              <fieldset class=" "
                                style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                  class="w-auto p-2 pt-3">
                                  Prescription</legend>
                                <textarea style="font-size: 12px;font-weight: 500;color: #000000;" class="p-2 border-0"
                                  rows="3" cols="65" formControlName="prescription"></textarea>
                              </fieldset>
                            </div>
                          </div>
                          <div class="row pb-1">
                            <div class="row" style="padding-left: 15px;">
                              <fieldset class=""
                                style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                  class="w-auto p-2 pt-3">
                                  Remarks</legend>
                                <textarea style="font-size: 12px;font-weight: 500;color: #000000;" class="p-2 border-0"
                                  rows="3" cols="65" formControlName="remark"></textarea>
                              </fieldset>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                    <div class="p-2">
                      <div class="row p-2"
                        style="background-color: #f5f5f5; font-size: 12px; font-weight: 600;color: #000000;">
                        Medications
                      </div>

                      <div class="pl-3 py-2">
                        <form [formGroup]="viewPatMedicationForm">
                          <div class="row pb-1">
                            <label style="font-size: 12px;">Date of Medication : &nbsp;&nbsp;</label>
                            <input style="font-size: 12px; font-weight: 600;border: none;padding-bottom: 7px;"
                              formControlName="medicationDate">
                          </div>

                          <div *ngIf="medicinesData">
                            <table class="table  table-sm table-bordered" style="width: 444px;margin-left: -15px;">
                              <thead
                                style="background-color: #efefef; font-size: 12px; font-weight: 600;color: #000000;">
                                <tr>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">No</th>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">
                                    Medication Name</th>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">Dosage
                                  </th>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">
                                    Frequency</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let medicinesData of fetchedmedicinesData; let i = index">
                                  <td style="text-align: center; font-weight: 500;font-size: 12px;">{{i+1}}</td>
                                  <td class="" style="text-align: center;font-weight: 500;font-size: 12px;">
                                    {{medicinesData.name}}
                                  </td>
                                  <td style="text-align: center;font-weight: 500;font-size: 12px;">
                                    {{medicinesData.dosage}}
                                  </td>
                                  <td style="text-align: center;font-weight: 500;font-size: 12px;">
                                    {{medicinesData.freq}}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="row pb-1">
                            <div class="row" style="padding-left: 15px;">
                              <fieldset class=""
                                style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                  class="w-auto p-2 pt-3">
                                  Instructions</legend>
                                <textarea style="font-size: 12px;font-weight: 500;color: #000000;" class="p-2 border-0"
                                  rows="3" cols="65" formControlName="instructions"></textarea>
                              </fieldset>
                            </div>
                          </div>
                        </form>
                      </div>

                    </div>
                    <div class="p-2">
                      <div class="row p-2"
                        style="background-color: #f5f5f5; font-size: 12px; font-weight: 600;color: #000000;">
                        Surgical Procedures
                      </div>
                      <div class="pl-3 py-2">
                        <form [formGroup]="viewPatSurgicalForm">
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Date : &nbsp;&nbsp;</label>
                            <input
                              style="font-size: 12px;font-weight: 600;color: #000000;border: none;padding-bottom: 7px;"
                              formControlName="lastUpdateDate">
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Time : &nbsp;&nbsp;</label>
                            <input
                              style="font-size: 12px;font-weight: 600;color: #000000;border: none;padding-bottom: 7px;"
                              formControlName="time">
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Doctor Name :
                              &nbsp;&nbsp;</label>
                            <input
                              style="font-size: 12px;font-weight: 600;color: #000000;border: none;padding-bottom: 7px;"
                              formControlName="doctorName">
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Surgery Name :
                              &nbsp;&nbsp;</label>
                            <input
                              style="font-size: 12px;font-weight: 600;color: #000000;border: none;padding-bottom: 7px;"
                              formControlName="surgeryProcedure">
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">More Information :
                              &nbsp;&nbsp;</label>
                            <input
                              style="font-size: 12px;font-weight: 600;color: #000000;border: none;padding-bottom: 7px;"
                              formControlName="moreInfo">
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer justify-content-center">
                    <button class="btn btn-sm"
                      style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;height: 30px;"
                      (click)="modal.close('Close click')">Close
                    </button>
                  </div>
                </ng-template>

                <button mat-menu-item
                  (click)="openEditMedicalHistoryMethod(editMedicalHistoryModel,selectedMedicalHistory)">
                  <span>Edit</span>
                </button>

                <ng-template #editMedicalHistoryModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Edit Medical History</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body" style="height: 70%;">
                    <div class="row p-1">
                      <div class="col-12 d-flex" style="padding: 7px;">
                        <button class="btn btn-sm " style="margin-right: 4px; background-color: #F5F5F5 ;
                          font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientIllness2()"
                          [ngClass]="{ 'active' : isValue == 1 }">Illness
                          Info</button>
                        <button class="btn btn-sm " style="margin-right: 4px;background-color: #F5F5F5 ;
                          font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientDiagnostic2()"
                          [ngClass]="{ 'active' : isValue == 2 }">Diagnostic
                          Notes</button>
                        <button class="btn btn-sm " style="margin-right: 4px;background-color: #F5F5F5 ;
                          font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientMedications2()"
                          [ngClass]="{ 'active' : isValue == 3 }">Medications</button>
                        <button class="btn btn-sm  " style="background-color: #F5F5F5 ;
                          font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientSurgical2()"
                          [ngClass]="{ 'active' : isValue == 4 }">Surgical
                          Procedures</button>
                      </div>
                    </div>

                    <div *ngIf="!viewPatientIllness2">

                      <div class="" style="border: 1px solid #707070; padding: 5px;">
                        <form [formGroup]="editPatIllnessForm">
                          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px; font-size: 12px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                  class="w-100 form-control bg-white" ngbDatepicker #d2="ngbDatepicker" readonly>
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d2.toggle()"
                                    type="button">
                                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="col-2"></div>
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Time</span>
                              </div>
                              <div class="row">
                                <input type="time"
                                  style="border-radius: 5px; height: 30px; font-size: 16px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                  class="w-100 form-control bg-white">
                                <!-- <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                                    <i class="fas fa-clock" aria-hidden="true"></i>
                                  </button>
                                </div> -->
                              </div>
                            </div>
                          </div>

                          <div style=" padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600; color: #140202;">Illness Condition</label>
                            </div>
                            <div class="row" style="padding-left: 15px;padding-right: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                class="pl-2 p-1 w-100" formControlName="illnessCondition">
                            </div>
                          </div>

                          <div class="row p-1" style="padding-bottom: 10px;">
                            <div class="col-4">
                              <label style="font-size: 12px;font-weight: 600;color: #140202;">Is Current Illness
                                &nbsp;&nbsp; :
                              </label>
                            </div>

                            <div class="col-2">
                              <label class="radio-inline" style="font-size: 12px;">
                                <input type="radio" name="isCurrentIllness" value="true" checked
                                  formControlName="isCurrentIllness">&nbsp; Yes
                              </label>
                            </div>

                            <div class="col-2">
                              <label class="radio-inline" style="font-size: 12px;">
                                <input type="radio" name="isCurrentIllness" value="false"
                                  formControlName="isCurrentIllness">&nbsp; No
                              </label>
                            </div>

                            <div class="col-4"></div>
                          </div>

                          <div class="row p-1" style="padding-bottom: 10px;">
                            <div class="col-4">
                              <label style="font-size: 12px;font-weight: 600;color: #140202;">Current Status
                                &nbsp;&nbsp; : </label>
                            </div>
                            <div class="col-8">
                              <select
                                style="border-radius: 5px; margin-right: -40px; height: 30px;font-size: 12px;outline: none;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                class=" form-control" formControlName="currentStatus">
                                <option *ngFor="let illnessCondition of listOfIllnessConditions"
                                  [value]="illnessCondition.value">
                                  {{illnessCondition.value}}
                                </option>
                              </select>
                            </div>
                          </div>

                          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                            <div class="col-5">
                              <div class="row">
                                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Start
                                  Date</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                  class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker"
                                  [value]="dateToShow" readonly formControlName="startDate">
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                    type="button">
                                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="col-2"></div>
                            <div class="col-5">
                              <div class="row">
                                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">End
                                  Date</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                  class="w-100 form-control bg-white" ngbDatepicker #d1="ngbDatepicker"
                                  [value]="dateToShow2" readonly formControlName="endDate">
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d1.toggle()"
                                    type="button">
                                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div style=" padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Symptoms</label>
                            </div>
                            <div class="row" style="padding-left: 15px;padding-right: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                class="pl-2 p-1 w-100" formControlName="symptoms">
                            </div>
                          </div>
                          <div style="padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Description</label>
                            </div>
                            <div class="row" style="padding-left: 15px;padding-right: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px;font-weight: 500; color: #140202;border: 1px solid #cccccc;"
                                class="pl-2 p-1 w-100" formControlName="description">
                            </div>
                          </div>
                        </form>
                      </div>
                      <div style="text-align: center;margin-top: 16px;" class="py-2">
                        <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                            [diameter]="30">
                          </mat-progress-spinner>
                        </div>
                        <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')"
                          style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                        <button class="btn btn-sm "
                          style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                          (click)="editPatIllnessSubmit(selectedMedicalHistory)">Save Changes</button>

                      </div>
                    </div>

                    <div *ngIf="!viewPatientDiagnostic2">

                      <div class="" style="border: 1px solid #707070; padding: 5px;">
                        <form [formGroup]="editPatIllnessDiagnosisForm">
                          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  [value]="dateToShow" class="w-100 form-control bg-white"
                                  formControlName="diagnosisDate" ngbDatepicker #d="ngbDatepicker" readonly>
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                    type="button">
                                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="col-2"></div>
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Doctor</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  class="w-100 form-control bg-white" formControlName="doctorName" readonly>
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)"
                                    class="p-0 btn calendar" type="button">
                                    <i class="fas fa-search" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div style=" padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Diagnosis</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <textarea
                                style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2" rows="2" cols="68" formControlName="diagnosis"></textarea>
                            </div>
                          </div>
                          <div style="padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Prescription</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <textarea
                                style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2" rows="2" cols="68" formControlName="prescription"></textarea>
                            </div>
                          </div>
                          <div style="padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Remarks</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <textarea
                                style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2" rows="2" cols="68" formControlName="remark"></textarea>
                            </div>
                          </div>
                        </form>
                      </div>
                      <div style="text-align: center;margin-top: 16px;" class="py-2">
                        <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                            [diameter]="30">
                          </mat-progress-spinner>
                        </div>

                        <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                          border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                        <button class="btn btn-sm "
                          style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                          (click)="editPatMedicalRecordDiagnosticSubmit()">Save Changes</button>
                      </div>

                    </div>

                    <div *ngIf="!viewPatientMedications2">

                      <div class="row justify-content-start pl-3 pb-2 mat-blue">
                        <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
                          <mat-button-toggle style="font-size: 14px;" (click)="viewManualInput2()"
                            [style.background-color]="color" [style.color]="textColor">Manual Input
                          </mat-button-toggle>
                          <mat-button-toggle style="font-size: 14px;" (click)="viewAttachment2()"
                            [style.background-color]="color1" [style.color]="textColor1">Attachment</mat-button-toggle>
                        </mat-button-toggle-group>
                      </div>

                      <div *ngIf="viewManualInputView2">
                        <div class=" p-2 " style="border: 1px solid #707070;">
                          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker" readonly>
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                    type="button">
                                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="col-2"></div>
                            <div class="col-5">

                            </div>
                          </div>
                          <div class="">
                            <form [formGroup]="editPatIllMedicationManuallyForm"
                              (ngSubmit)="editPatIllnessMedicationManuallySubmit()">
                              <div class="row" style="padding-left: 7px;">
                                <div class="col-1"></div>
                                <div class="col-4 modelBodyHead">
                                  <span class=" headText"
                                    style="font-size: 14px;font-weight: 600;color: #140202;">Medication
                                    Name</span>
                                </div>
                                <div class="col-3 modelBodyHead " style="">
                                  <span class=" headText"
                                    style="font-size: 14px;font-weight: 600;color: #140202;">Dosage</span>
                                </div>
                                <div class="col-3 modelBodyHead " style="">
                                  <span class="headText"
                                    style="font-size: 14px;font-weight: 600;color: #140202;">Frequency</span>
                                </div>
                                <div class="col-1"></div>
                              </div>

                              <div formArrayName="editMedicationArray" class="pt-2 scroll1"
                                style="height: 150px !important;">
                                <ng-container *ngFor="let desease of editmedicationsObj.controls; let i =index">
                                  <div class="form-group row" style="padding-left: 7px;" [formGroupName]="i">
                                    <div class="col-1" style="line-height: 2;font-size: 12px;color:#140202">
                                      {{i+1}}
                                    </div>
                                    <div class="col-4">
                                      <input type="text" formControlName="name"
                                        style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                        class=" form-control  ">
                                    </div>
                                    <div class="col-3">
                                      <input type="text" formControlName="dosage"
                                        style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                        class=" form-control  ">
                                    </div>
                                    <div class="col-3">
                                      <input type="text" formControlName="freq"
                                        style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                        class=" form-control  ">
                                    </div>
                                    <div class="col-1 p-0" style="margin-top: 6px;" (click)="removeEditMedication(i)">
                                      <img
                                        src="../../../assets/images/ui/Icons/patient-medical-module/Icon metro-cancel.png"
                                        style="margin-top: -9px;" width="20rem" class="handCursor">
                                    </div>
                                  </div>
                                </ng-container>
                              </div>
                              <div class="row py-2  ">
                                <div style="padding-left: 54px;" (click)="editMedicationToList()">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                    width="20rem" class="handCursor">
                                  <span class="px-3 handCursor">Add New Medication</span>
                                </div>
                              </div>
                              <div style="padding: 5px;">
                                <div class="row" style="padding-left: 15px;">
                                  <label style="font-size: 12px;font-weight: 600;color: #140202; ">Instructions</label>
                                </div>
                                <div class="row" style="padding-left: 15px;">
                                  <textarea
                                    style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                    class="p-2" rows="2" cols="68" formControlName="instructions"></textarea>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div style="text-align: center;margin-top: 16px;" class="py-2">
                          <div *ngIf="isLoading" style="display: flex; justify-content: center;padding-bottom: 7px;">
                            <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                              [diameter]="30">
                            </mat-progress-spinner>
                          </div>
                          <div>

                            <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                              border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                            <button class="btn btn-sm "
                              style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                              (click)="editPatIllnessMedicationManuallySubmit()">Save Changes</button>

                          </div>

                        </div>
                      </div>

                      <div *ngIf="viewAttachmentView2">
                        <div style="">
                          <form [formGroup]="editPatientMedHistoryFileForm"
                            (ngSubmit)="editPatientMedicalHistoryIllnessMedicationAttachmentSubmit()">
                            <div style="border: 1px solid #707070;padding: 10px 5px 10px 5px;">

                              <div *ngIf="!(medicationAttachmentData && medicationAttachmentData.length)">
                                <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                                    margin-left: 10px;margin-right: 20px; margin-bottom: 10px;
                                    height: 130px;">
                                  <div class="justify-content-center pb-2"
                                    style="text-align: center;align-self: center;">
                                    <div class="row justify-content-center pt-4 pb-2">
                                      <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                                    </div>
                                    <div class="row justify-content-center ">
                                      <span style="font-size: 14px;color: #140202;">No Files</span>
                                    </div>
                                  </div>
                                </div>

                                <div class="d-flex p-2" *ngIf="isNoFile"
                                  style="border-radius: 5px;border: 1px solid #cccccc;">
                                  <div class="col-2" style="justify-content: center;">
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                      class="">
                                  </div>
                                  <div class="col-8" style="justify-content: start;">
                                    <span style="font-size: 12px;font-weight: 600;color: #140202; ">{{fileName}}
                                      {{fileSize}}
                                      {{fileValue}}</span>
                                  </div>
                                  <div class="col-2" style="text-align: end;">
                                    <div class=" ">
                                      <img
                                        src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                        class=" handCursor " width="30%" style="margin-right: 3px;"
                                        (click)="removeUploadedFile1()">
                                    </div>
                                  </div>
                                </div>

                                <div class="row py-2 " *ngIf="!isNoFile">
                                  <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                                    aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                                    (change)="fileProgress1($event)" class="d-none">
                                  <div style="padding-left: 24px;" (click)="fileInput.click()">
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                      width="20rem" class="handCursor">
                                    <span class="px-3 handCursor" style="font-size: 14px;color: #140202;">Add New File /
                                      Document</span>
                                  </div>

                                </div>
                              </div>

                              <div class=" p-1 mx-4 pl-2 pt-1 pb-2 mb-2 d-flex justify-content-around"
                                style="border-radius: 5px;border: 1px solid #cccccc;"
                                *ngFor="let medicationAttachmentData of medicationAttachmentData">
                                <div class="col-md-10">
                                  <div class="d-flex row">
                                    <div>
                                      <img
                                        src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                        class="mr-1">
                                    </div>
                                    <div class="">

                                      <span style="font-size: 9px;font-weight: 600;color: #140202; ">
                                        {{ medicationAttachmentData.filePath.split('/')[3] }}</span>
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-2" style="text-align: end;"
                                  (click)="removeEditMedicationAttachment(i)">
                                  <div class=" ">
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                      class=" handCursor " width="30%" style="margin-right: 3px;">
                                  </div>
                                </div>

                              </div>

                              <div class="" style="margin-left: 30px;margin-top: 10px;padding-bottom: 5px;">
                                <div class="row">
                                  <label style="font-size: 12px;font-weight: 600;color: #140202;"
                                    class="pl-3">Instructions</label>
                                </div>
                                <div>
                                  <textarea
                                    style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                    class="p-2" rows="2" cols="60"
                                    formControlName="prescription1MoreDetails"></textarea>
                                </div>
                              </div>

                            </div>

                            <div style="text-align: center;margin-top: 16px;" class="py-2">
                              <div *ngIf="isLoading"
                                style="display: flex; justify-content: center; padding-bottom: 5px;">
                                <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                                  [diameter]="30">
                                </mat-progress-spinner>
                              </div>
                              <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                                border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                              <button class="btn btn-sm "
                                style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                                (click)="editPatIllnessMedicationManuallySubmit()">Save Changes</button>

                            </div>
                          </form>
                        </div>
                      </div>
                    </div>

                    <div *ngIf="!viewPatientSurgical2">

                      <div class="" style="border: 1px solid #707070; padding: 5px;">
                        <form [formGroup]="editPatIllnessSurgicalForm">
                          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                              </div>
                              <div class="row">
                                <input
                                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  formControlName="lastUpdateDate" class="w-100 form-control bg-white"
                                  [value]="dateToShow" ngbDatepicker #d="ngbDatepicker" readonly>
                                <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                    type="button">
                                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="col-2"></div>
                            <div class="col-5">
                              <div class="row">
                                <span
                                  style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Time</span>
                              </div>
                              <div class="row">
                                <input type="time"
                                  style="border-radius: 5px; height: 30px;font-size: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  formControlName="time" class="w-100 form-control bg-white">
                                <!-- <div class="calenderLogo">
                                  <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                                    <i class="fas fa-clock" aria-hidden="true"></i>
                                  </button>
                                </div> -->
                              </div>
                            </div>
                          </div>
                          <div style=" padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Surgen</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2 form-control" formControlName="doctorName">
                              <div class="searchLogo">
                                <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)"
                                  class="p-0 btn searchLogo" type="button">
                                  <i class="fas fa-search" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div style=" padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600; color: #140202;">Surgery Name</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2 form-control" formControlName="surgeryProcedure">
                            </div>
                          </div>
                          <div style="padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600; color: #140202;">More Information</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2 form-control" formControlName="surgeryInformation">
                            </div>
                          </div>

                          <div *ngIf="!(illnessSurgicalAttachments && illnessSurgicalAttachments.length)"
                            style="padding: 0px;">
                            <!--border: 1px solid #b3b2b2;-->
                            <div class="text-center py-1 " *ngIf="!isNoFile" style="margin-top: 5px; border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                                    margin-left: 5px;margin-right: 6px; margin-bottom: 10px;
                                    height: 130px;">
                              <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                                <div class="row justify-content-center pt-4 pb-2">
                                  <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                                </div>
                                <div class="row justify-content-center ">
                                  <span style="font-size: 14px;color: #140202;">No Files</span>
                                </div>
                              </div>
                            </div>

                            <div class="d-flex" *ngIf="isNoFile"
                              style="padding: 5px 0px 5px 0px ;margin: 5px  6px;border-radius: 5px;border: 1px solid #cccccc;">
                              <div class="col-2" style="justify-content: center;">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                  class="">
                              </div>
                              <div class="col-8" style="justify-content: start;">
                                <span style="font-size: 12px;font-weight: 600;color: #140202; ">{{fileName}}
                                  {{fileSize}}
                                  {{fileValue}}</span>
                              </div>
                              <div class="col-2" style="text-align: end;">
                                <div class=" ">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                    class=" handCursor " width="30%" style="margin-right: 3px;"
                                    (click)="removeUploadedFile11()">
                                </div>
                              </div>
                            </div>

                            <div class="row py-2 " style="padding-top: 5px;" *ngIf="!isNoFile">
                              <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                                aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                                (change)="fileProgress11($event)" class="d-none">
                              <div style="padding-left: 24px;" (click)="fileInput.click()">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                  width="20rem" class="handCursor">
                                <span class="px-3 handCursor" style="font-size: 14px;color: #140202;">Add New File /
                                  Document</span>
                              </div>

                            </div>
                          </div>

                          <div class="border d-flex justify-content-around"
                            style="padding: 5px 0px 5px 0px ;margin: 5px  6px;border-radius: 5px;"
                            *ngFor="let patientScreeningRecordsData of illnessSurgicalAttachments; let i = index">
                            <div class="col-md-2">
                              <img
                                src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                class="mr-1">
                            </div>
                            <div class="col-md-8">

                              <div class="">
                                <span
                                  style="font-size: 9px;font-weight: 600; color: #140202;">{{ patientScreeningRecordsData.filePath.split('/')[3] }}</span>
                              </div>

                            </div>
                            <div class="col-md-2" style="text-align: end;"
                              (click)="removeEditillnessSurgicalAttachments(i)">
                              <div class=" ">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                  class=" handCursor " width="30%" style="margin-right: 3px;">
                              </div>
                            </div>

                          </div>

                          <div style="padding: 5px;">
                            <div class="row" style="padding-left: 15px;">
                              <label style="font-size: 12px;font-weight: 600;color: #140202; ">More Details</label>
                            </div>
                            <div class="row" style="padding-left: 15px;">
                              <input
                                style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="p-2 form-control" formControlName="surgeryInformation">
                            </div>
                          </div>

                        </form>
                      </div>
                      <div style="text-align: center;margin-top: 16px;" class="py-2">
                        <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                            [diameter]="30">
                          </mat-progress-spinner>
                        </div>


                        <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                          border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                        <button class="btn btn-sm "
                          style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                          (click)="editPatIllSurgicalFormSubmit()">Save Changes</button>

                      </div>
                    </div>

                  </div>

                </ng-template>

                <button mat-menu-item
                  (click)="openDeleteMedicalHistoryMethod(viewDeleteMedicalHistoryModel,selectedMedicalHistory)">
                  <span>Delete</span>
                </button>
                <ng-template #viewDeleteMedicalHistoryModel let-modal>
                  <div class="modal-body">

                    <div class="d-flex p-1">
                      <div class="col-md-4 text-center p-3 m-0">
                        <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                          style="width: 80%; margin-top: 10px;">
                      </div>
                      <div class="col-md-8" style="text-align: center;padding: 30px 30px 15px 30px;">
                        <span class=" font-weight-small" style="font-size: 14px;font-weight: 600;color: #474747;">
                          Delete Medical History Record
                        </span><br><br>
                        <span class="" style="font-size: 12px;font-weight: 500;color: #000000;">Are you sure you want to
                          delete this medical history
                          record ? </span>
                      </div>
                    </div>
                    <div style="text-align: center;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>
                      <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-8">
                          <button class="btn btn-sm mr-3"
                            style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="modal.close('Close click')">Cancel
                          </button>
                          <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="deletePatientIllnessData(selectedMedicalHistory)">Delete
                          </button>
                        </div>
                      </div>
                    </div>

                  </div>
                </ng-template>
              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row" style="padding-left: 35px;" *ngIf="!isViewMedications">
    <div class="row bg-white px-2 py-2 pr-4 w-100 justify-content-between">
      <span class="tableHead justify-content-center" id="modal-basic-title">Medications</span>
      <img style="width: 1.35rem;cursor: pointer;" class="crossImg"
        (click)="openAddMedicationsMethod(addMedicationsModel)"
        src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png">
    </div>
    <div class="row scroll w-100 tableFixHead">
      <table class="table text-center ">
        <thead class=" " style="background-color: #3e454c;color: white;">
          <tr class="medium" style="font-weight: normal;height: 40px;
          line-height: 2;">
            <th scope="col" class="border text-center">No</th>
            <th scope="col" class="border  text-center">Date</th>
            <th scope="col" class="border text-center">Medication</th>
            <th scope="col" class="border text-center">Dosage</th>
            <th scope="col" class="border text-center">Frequency</th>
            <th scope="col" class="border text-center">Instruction</th>
            <th scope="col" class="border  text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          <!--Medications-->
          <tr *ngIf="!(fetchedMedications && fetchedMedications.length)"
            style="text-align: center;background-color: white;padding: 20px;">
            <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">Don't have Medications Records
            </td>
          </tr>
          <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
          box-shadow: 0px 6px 12px #44444414;
          border-radius: 6px;
          opacity: 1;" *ngFor="let selectedMedicationData of fetchedMedications ; let i = index">
            <td scope="row" class="text-center">{{i+1}}</td>
            <td class="" style="padding-left: 4%;">
              {{selectedMedicationData.mannualPrescriptions.addedDate | date:"MM/dd/yy" }}</td>
            <td class="" style="padding-left: 6%;">
              {{ selectedMedicationData.mannualPrescriptions.medicines && selectedMedicationData.mannualPrescriptions.medicines.length && selectedMedicationData.mannualPrescriptions.medicines[0].name}}
            </td>
            <td class="" style="padding-left: 5%;">
              {{ selectedMedicationData.mannualPrescriptions.medicines && selectedMedicationData.mannualPrescriptions.medicines.length && selectedMedicationData.mannualPrescriptions.medicines[0].dosage}}
            </td>
            <td class="" style="padding-left: 7%;">
              {{ selectedMedicationData.mannualPrescriptions.medicines && selectedMedicationData.mannualPrescriptions.medicines.length && selectedMedicationData.mannualPrescriptions.medicines[0].freq}}
            </td>
            <td class="" style="padding-left: 5%;">
              {{ selectedMedicationData.mannualPrescriptions.medicines && selectedMedicationData.mannualPrescriptions.medicines.length && selectedMedicationData.mannualPrescriptions.medicines[0].moreDetails}}
            </td>
            <td class="menu text-center text-info" style="padding: 0px; overflow: hidden; padding-top: 5px;">
              <button [matMenuTriggerFor]="beforeMenu" aria-label="Example icon-button with a menu" style="color: #53b8c5;background-color: Transparent;
              background-repeat:no-repeat;
              border: none;
              cursor:pointer;
              overflow: hidden;
              outline:none;">
                <img style="width: 0.32rem;" class="crossImg" src="../../../assets/images/ui/Icons/1x/menu.png">
              </button>
              <mat-menu #menu="matMenu" class="menudata" #beforeMenu="matMenu" xPosition="before">
                <button mat-menu-item class="menuItembtn" style="outline: none !important;"
                  (click)="openViewMedicationRecordMethod(viewMedicationRecordModel,selectedMedicationData)">
                  <span>View</span>
                </button>
                <ng-template #viewMedicationRecordModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Medication Record</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll3" style="padding-top: 5px;">

                    <div class="p-2">
                      <div class="row p-2"
                        style="background-color: #f5f5f5; font-size: 12px; font-weight: 600;color: #000000;">
                        Medications
                      </div>
                      <div class="pl-3 py-2">
                        <form [formGroup]="viewPatMedicationForm">
                          <div class="py-2">
                            <div class="row pb-1">
                              <label style="font-size: 12px;font-weight: 600;color: #706f6f;">illnessID :
                                &nbsp;&nbsp;</label>
                              <span
                                style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicationData.illnessID}}</span>
                            </div>
                            <div class="row pb-1">
                              <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Date :
                                &nbsp;&nbsp;</label>
                              <span
                                style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicationData.mannualPrescriptions.updateDate | date:"MM/dd/yy"}}</span>
                            </div>
                            <div class="row pb-1">
                              <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Doctor Name :
                                &nbsp;&nbsp;</label>
                              <span
                                style="font-size: 12px; font-weight: 600;color: #000000;">{{selectedMedicationData.mannualPrescriptions.doctorName}}</span>
                            </div>
                          </div>

                          <div *ngIf="medicinesData">
                            <table class="table  table-sm table-bordered" style="width: auto;margin-left: -15px;">
                              <thead
                                style="background-color: #efefef; font-size: 12px; font-weight: 600;color: #000000;">
                                <tr>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">No</th>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">
                                    Medication Name</th>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">Dosage
                                  </th>
                                  <th scope="col" style="text-align: center; font-weight: 600;font-size: 12px;">
                                    Frequency</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let medicinesData of fetchedmedicinesDataDirect; let i = index">
                                  <td style="text-align: center; font-weight: 500;font-size: 12px;">{{i+1}}</td>
                                  <td class="" style="text-align: center;font-weight: 500;font-size: 12px;">
                                    {{medicinesData.name}}
                                  </td>
                                  <td style="text-align: center;font-weight: 500;font-size: 12px;">
                                    {{medicinesData.dosage}}
                                  </td>
                                  <td style="text-align: center;font-weight: 500;font-size: 12px;">
                                    {{medicinesData.freq}}
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div class="row pb-1">
                            <div class="row" style="padding-left: 15px;">
                              <fieldset class=""
                                style="width: inherit;padding: 0 10px 10px 10px;border: 1px solid #707070;">
                                <legend style="font-size: 12px;font-weight: 600;line-height: 2;"
                                  class="w-auto p-2 pt-3">
                                  Instructions</legend>
                                <textarea style="font-size: 12px;font-weight: 500;color: #000000;" class="p-2 border-0"
                                  rows="3" cols="62" formControlName="instructions"></textarea>
                              </fieldset>
                            </div>
                          </div>
                        </form>
                      </div>

                    </div>
                  </div>
                  <div class="modal-footer justify-content-center">
                    <button class="btn btn-sm"
                      style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;height: 30px;"
                      (click)="modal.close('Close click')">Close
                    </button>
                  </div>
                </ng-template>
                <button mat-menu-item
                  (click)="openEditMedicationRecordMethod(editMedicationRecordModel,selectedMedicationData)">
                  <span>Edit</span>
                </button>
                <ng-template #editMedicationRecordModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Edit Medications</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll3" style="padding-top: 5px;height: 60vh;">

                    <div class="row justify-content-start pl-3 pb-2 mat-blue">
                      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
                        <mat-button-toggle style="font-size: 14px;" (click)="viewManualInput3()"
                          [style.background-color]="color" [style.color]="textColor">Manual Input
                        </mat-button-toggle>
                        <mat-button-toggle style="font-size: 14px;" (click)="viewAttachment3()"
                          [style.background-color]="color1" [style.color]="textColor1">Attachment</mat-button-toggle>
                      </mat-button-toggle-group>
                    </div>

                    <div *ngIf="viewManualInputView3">
                      <div class=" p-2 " style="border: 1px solid #707070;">
                        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                          <div class="col-5">
                            <div class="row">
                              <span
                                style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                            </div>
                            <div class="row">
                              <input
                                style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker" readonly>
                              <div class="calenderLogo">
                                <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                  type="button">
                                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="col-2"></div>
                          <div class="col-5"></div>
                        </div>
                        <div class="">
                          <form [formGroup]="editPatIllMedicationManuallyFormDirect"
                            (ngSubmit)="editPatIllnessMedicationManuallySubmitDirect(selectedMedicationData)">
                            <div class="row" style="padding-left: 7px;">
                              <div class="col-1"></div>
                              <div class="col-4 modelBodyHead">
                                <span class=" headText"
                                  style="font-size: 14px;font-weight: 600;color: #140202;">Medication
                                  Name</span>
                              </div>
                              <div class="col-3 modelBodyHead " style="">
                                <span class=" headText"
                                  style="font-size: 14px;font-weight: 600;color: #140202;">Dosage</span>
                              </div>
                              <div class="col-3 modelBodyHead " style="">
                                <span class="headText"
                                  style="font-size: 14px;font-weight: 600;color: #140202;">Frequency</span>
                              </div>
                              <div class="col-1"></div>
                            </div>

                            <div formArrayName="editMedicationArrayDirect" class="pt-2 scroll1"
                              style="height: 150px !important;">
                              <ng-container *ngFor="let desease of editmedicationsObjDirect.controls; let i =index">
                                <div class="form-group row" style="padding-left: 7px;" [formGroupName]="i">
                                  <div class="col-1" style="line-height: 2;font-size: 12px;color:#140202">
                                    {{i+1}}
                                  </div>
                                  <div class="col-4">
                                    <input type="text" formControlName="name"
                                      style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                      class=" form-control  ">
                                  </div>
                                  <div class="col-3">
                                    <input type="text" formControlName="dosage"
                                      style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                      class=" form-control  ">
                                  </div>
                                  <div class="col-3">
                                    <input type="text" formControlName="freq"
                                      style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                      class=" form-control  ">
                                  </div>
                                  <div class="col-1 p-0" style="margin-top: 6px;"
                                    (click)="removeEditMedicationDirect(i)">
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon metro-cancel.png"
                                      style="margin-top: -9px;" width="20rem" class="handCursor">
                                  </div>
                                </div>
                              </ng-container>
                            </div>
                            <div class="row py-2  ">
                              <div style="padding-left: 54px;" (click)="editMedicationToListDirect()">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                  width="20rem" class="handCursor">
                                <span class="px-3 handCursor">Add New Medication</span>
                              </div>
                            </div>
                            <div style="padding: 5px;">
                              <div class="row" style="padding-left: 15px;">
                                <label style="font-size: 12px;font-weight: 600;color: #140202; ">Instructions</label>
                              </div>
                              <div class="row" style="padding-left: 15px;">
                                <textarea
                                  style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  class="p-2" rows="2" cols="66" formControlName="instructions"></textarea>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>

                      <div style="text-align: center;margin-top: 16px;" class="py-2">
                        <div *ngIf="isLoading" style="display: flex; justify-content: center;padding-bottom: 7px;">
                          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                            [diameter]="30">
                          </mat-progress-spinner>
                        </div>
                        <div>

                          <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                            border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                          <button class="btn btn-sm "
                            style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                            (click)="editPatIllnessMedicationManuallySubmitDirect(selectedMedicationData)">Save
                            Changes</button>

                        </div>

                      </div>
                    </div>

                    <div *ngIf="viewAttachmentView3">
                      <div style="">
                        <form [formGroup]="editPatientMedHistoryFileFormDirect"
                          (ngSubmit)="editPatientMedicalHistoryIllnessMedicationAttachmentSubmitDirect(selectedMedicationData)">
                          <div style="border: 1px solid #707070;padding: 10px 5px 10px 5px;">

                            <div *ngIf="!(medicationAttachmentDataDirect && medicationAttachmentDataDirect.length)">
                              <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                                  margin-left: 10px;margin-right: 20px; margin-bottom: 10px;
                                  height: 130px;">
                                <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                                  <div class="row justify-content-center pt-4 pb-2">
                                    <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                                  </div>
                                  <div class="row justify-content-center ">
                                    <span style="font-size: 14px;color: #140202;">No Files</span>
                                  </div>
                                </div>
                              </div>

                              <div class="d-flex p-2" *ngIf="isNoFile"
                                style="border-radius: 5px;border: 1px solid #cccccc;">
                                <div class="col-2" style="justify-content: center;">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                    class="">
                                </div>
                                <div class="col-8" style="justify-content: start;">
                                  <span style="font-size: 12px;font-weight: 600;color: #140202; ">{{fileName}}
                                    {{fileSize}}
                                    {{fileValue}}</span>
                                </div>
                                <div class="col-2" style="text-align: end;">
                                  <div class=" ">
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                      class=" handCursor " width="30%" style="margin-right: 3px;"
                                      (click)="removeUploadedFile1Direct()">
                                  </div>
                                </div>
                              </div>

                              <div class="row py-2 " *ngIf="!isNoFile">
                                <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                                  aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                                  (change)="fileProgress1Direct($event)" class="d-none">
                                <div style="padding-left: 24px;" (click)="fileInput.click()">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                    width="20rem" class="handCursor">
                                  <span class="px-3 handCursor" style="font-size: 14px;color: #140202;">Add New File /
                                    Document</span>
                                </div>

                              </div>
                            </div>

                            <div class=" p-1 mx-4 pl-2 pt-1 pb-2 mb-2 d-flex justify-content-around"
                              style="border-radius: 5px;border: 1px solid #cccccc;"
                              *ngFor="let medicationAttachmentData of medicationAttachmentDataDirect; let i = index;">
                              <div class="col-md-10">
                                <div class="d-flex row">
                                  <div>
                                    <img
                                      src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                      class="mr-1">
                                  </div>
                                  <div class="">

                                    <span style="font-size: 9px;font-weight: 600;color: #140202; ">
                                      {{ medicationAttachmentData.filePath.split('/')[3] }}</span>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-2" style="text-align: end;"
                                (click)="removeEditMedicationAttachmentDirect(i)">
                                <div class=" ">
                                  <img
                                    src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                    class=" handCursor " width="30%" style="margin-right: 3px;">
                                </div>
                              </div>

                            </div>

                            <div class="" style="margin-left: 30px;margin-top: 10px;padding-bottom: 5px;">
                              <div class="row">
                                <label style="font-size: 12px;font-weight: 600;color: #140202;"
                                  class="pl-3">Instructions</label>
                              </div>
                              <div>
                                <textarea
                                  style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                  class="p-2" rows="2" cols="60" formControlName="prescription1MoreDetails"></textarea>
                              </div>
                            </div>

                          </div>

                          <div style="text-align: center;margin-top: 16px;" class="py-2">
                            <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                              <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                                [diameter]="30">
                              </mat-progress-spinner>
                            </div>
                            <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                              border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                            <button class="btn btn-sm "
                              style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                              (click)="editPatientMedicalHistoryIllnessMedicationAttachmentSubmitDirect(selectedMedicationData)">Save
                              Changes</button>

                          </div>
                        </form>
                      </div>
                    </div>

                  </div>
                </ng-template>
                <button mat-menu-item
                  (click)="openDeleteMedicationMethod(viewDeleteMedicalHistoryModel,selectedMedicationData)">
                  <span>Delete</span>
                </button>
                <ng-template #viewDeleteMedicalHistoryModel let-modal>
                  <div class="modal-body">

                    <div class="d-flex p-1">
                      <div class="col-md-4 text-center p-3 m-0">
                        <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                          style="width: 80%; margin-top: 10px;">
                      </div>
                      <div class="col-md-8" style="text-align: center;padding: 30px 30px 15px 30px;">
                        <span class=" font-weight-small" style="font-size: 14px;font-weight: 600;color: #474747;">
                          Delete Medical History Record
                        </span><br><br>
                        <span class="" style="font-size: 12px;font-weight: 500;color: #000000;">Are you sure you want to
                          delete this medical history
                          record ? </span>
                      </div>
                    </div>
                    <div style="text-align: center;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>
                      <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-8">
                          <button class="btn btn-sm mr-3"
                            style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="modal.close('Close click')">Cancel
                          </button>
                          <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="deletePatientIllnessDataDirect(selectedMedicationData)">Delete
                          </button>
                        </div>
                      </div>
                    </div>

                  </div>
                </ng-template>
              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row" style="padding-left: 35px;" *ngIf="!isViewSurgicalProcedures">
    <div class="row bg-white px-2 py-2 pr-4 w-100 justify-content-between">
      <span class="tableHead justify-content-center" id="modal-basic-title">Surgery Procedures</span>
      <img style="width: 1.35rem;cursor: pointer;" class="crossImg"
        (click)="openAddSurgicalProceduresMethod(addSurgicalProceduresModel)"
        src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png">
    </div>
    <div class="row scroll w-100 tableFixHead">
      <table class="table text-center ">
        <thead class=" " style="background-color: #3e454c;color: white;">
          <tr class="medium" style="font-weight: normal;height: 40px;
          line-height: 2;">
            <th scope="col" class="border text-center">No</th>
            <th scope="col" class="border  text-center">Date</th>
            <th scope="col" class="border text-center">SurgeryName</th>
            <th scope="col" class="border text-center">Doctor</th>
            <th scope="col" class="border text-center">More Info</th>
            <th scope="col" class="border  text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="!(fetchPatientSurgicalRecordsData && fetchPatientSurgicalRecordsData.length)"
            style="text-align: center;background-color: white;padding: 20px;">
            <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">Don't have SurgeryProcedures
              Records
            </td>
          </tr>
          <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
          box-shadow: 0px 6px 12px #44444414;
          border-radius: 6px;
          opacity: 1;" *ngFor="let selectedSurgicalRecordData of fetchPatientSurgicalRecordsData ; let i = index">
            <td scope="row" class="text-center">{{i+1}}</td>
            <td class="" style="padding-left: 6%;">{{selectedSurgicalRecordData.addedDate | date:"MM/dd/yy"}}</td>
            <td class="" style="padding-left: 9%;">{{selectedSurgicalRecordData.surgeryProcedure}}</td>
            <td class="" style="padding-left: 6%;">{{selectedSurgicalRecordData.doctorName}}</td>
            <td class="" style="padding-left: 5%;" *ngIf="selectedSurgicalRecordData.surgeryInformation != '' ">
              {{selectedSurgicalRecordData.surgeryInformation}}
            </td>
            <td class="" style="padding-left: 5%;" *ngIf="selectedSurgicalRecordData.surgeryInformation == '' ">
              --------
            </td>
            <td class="menu text-center text-info" style="padding: 0px; overflow: hidden; padding-top: 5px;">
              <button [matMenuTriggerFor]="beforeMenu" aria-label="Example icon-button with a menu" style="color: #53b8c5;background-color: Transparent;
              background-repeat:no-repeat;
              border: none;
              cursor:pointer;
              overflow: hidden;
              outline:none;">
                <img style="width: 0.32rem;" class="crossImg" src="../../../assets/images/ui/Icons/1x/menu.png">
              </button>
              <mat-menu #menu="matMenu" class="menudata" #beforeMenu="matMenu" xPosition="before">
                <button mat-menu-item class="menuItembtn" style="outline: none !important;"
                  (click)="openViewSurgicalRecordMethod(viewSurgicalRecordModel,selectedSurgicalRecordData)">
                  <span>View</span>
                </button>
                <ng-template #viewSurgicalRecordModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Surgical Procedure
                      Record</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll3" style="padding-top: 5px;">
                    <div class="p-2">
                      <div class="pl-3 py-2">
                        <form [formGroup]="viewPatSurgicalForm">
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Date : &nbsp;&nbsp;
                              {{selectedSurgicalRecordData.lastUpdateDate  | date:"dd/MM/yy"}}</label>

                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Time : &nbsp;&nbsp;
                              {{selectedSurgicalRecordData.lastUpdateDate | date:"HH:mm" }}</label>

                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Doctor Name :
                              &nbsp;&nbsp;{{selectedSurgicalRecordData.doctorName}}</label>
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">Surgery Name :
                              &nbsp;&nbsp;{{selectedSurgicalRecordData.surgeryProcedure}}</label>
                          </div>
                          <div class="row pb-1">
                            <label style="font-size: 12px;font-weight: 600;color: #706f6f;">More Information :
                              &nbsp;&nbsp;{{selectedSurgicalRecordData.attachments[0].moreDetails}}</label>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer justify-content-center">
                    <button class="btn btn-sm"
                      style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;height: 30px;"
                      (click)="modal.close('Close click')">Close
                    </button>
                  </div>
                </ng-template>
                <button mat-menu-item
                  (click)="openEditSurgicalRecordMethod(editSurgicalRecordModel,selectedSurgicalRecordData)">
                  <span>Edit</span>
                </button>
                <ng-template #editSurgicalRecordModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Edit Surgical Procedure
                      Record</span>
                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body scroll3" style="padding-top: 5px;">

                    <div class="" style="border: 1px solid #707070; padding: 5px;">
                      <form [formGroup]="editPatIllnessSurgicalFormDirect">
                        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                          <div class="col-5">
                            <div class="row">
                              <span
                                style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                            </div>
                            <div class="row">
                              <input
                                style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                formControlName="lastUpdateDate" class="w-100 form-control bg-white"
                                [value]="dateToShow" ngbDatepicker #d="ngbDatepicker" readonly>
                              <div class="calenderLogo">
                                <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                  type="button">
                                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="col-2"></div>
                          <div class="col-5">
                            <div class="row">
                              <span
                                style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Time</span>
                            </div>
                            <div class="row">
                              <input type="time"
                                style="border-radius: 5px; height: 30px;font-size: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                                formControlName="time" class="w-100 form-control bg-white">
                              <!-- <div class="calenderLogo">
                                <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                                  <i class="fas fa-clock" aria-hidden="true"></i>
                                </button>
                              </div> -->
                            </div>
                          </div>
                        </div>
                        <div style=" padding: 5px;">
                          <div class="row" style="padding-left: 15px;">
                            <label style="font-size: 12px;font-weight: 600;color: #140202; ">Surgen</label>
                          </div>
                          <div class="row" style="padding-left: 15px;">
                            <input
                              style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                              class="p-2 form-control" formControlName="doctorName">
                            <div class="searchLogo">
                              <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)"
                                class="p-0 btn searchLogo" type="button">
                                <i class="fas fa-search" aria-hidden="true"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                        <div style=" padding: 5px;">
                          <div class="row" style="padding-left: 15px;">
                            <label style="font-size: 12px;font-weight: 600; color: #140202;">Surgery Name</label>
                          </div>
                          <div class="row" style="padding-left: 15px;">
                            <input
                              style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                              class="p-2 form-control" formControlName="surgeryProcedure">
                          </div>
                        </div>
                        <div style="padding: 5px;">
                          <div class="row" style="padding-left: 15px;">
                            <label style="font-size: 12px;font-weight: 600; color: #140202;">More Information</label>
                          </div>
                          <div class="row" style="padding-left: 15px;">
                            <input
                              style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                              class="p-2 form-control" formControlName="surgeryInformation">
                          </div>
                        </div>

                        <div *ngIf="!(illnessSurgicalAttachmentsDirect && illnessSurgicalAttachmentsDirect.length)"
                          style="padding: 0px;">
                          <!--border: 1px solid #b3b2b2;-->
                          <div class="text-center py-1 " *ngIf="!isNoFile" style="margin-top: 5px; border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                                margin-left: 5px;margin-right: 6px; margin-bottom: 10px;
                                height: 130px;">
                            <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                              <div class="row justify-content-center pt-4 pb-2">
                                <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                              </div>
                              <div class="row justify-content-center ">
                                <span style="font-size: 14px;color: #140202;">No Files</span>
                              </div>
                            </div>
                          </div>

                          <div class="d-flex" *ngIf="isNoFile"
                            style="padding: 5px 0px 5px 0px ;margin: 5px  6px;border-radius: 5px;border: 1px solid #cccccc;">
                            <div class="col-2" style="justify-content: center;">
                              <img
                                src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                                class="">
                            </div>
                            <div class="col-8" style="justify-content: start;">
                              <span style="font-size: 12px;font-weight: 600;color: #140202; ">{{fileName}}
                                {{fileSize}}
                                {{fileValue}}</span>
                            </div>
                            <div class="col-2" style="text-align: end;">
                              <div class=" ">
                                <img
                                  src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                  class=" handCursor " width="30%" style="margin-right: 3px;"
                                  (click)="removeUploadedFile11Direct()">
                              </div>
                            </div>
                          </div>

                          <div class="row py-2 " style="padding-top: 5px;" *ngIf="!isNoFile">
                            <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                              aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                              (change)="fileProgress11Direct($event)" class="d-none">
                            <div style="padding-left: 24px;" (click)="fileInput.click()">
                              <img
                                src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                                width="20rem" class="handCursor">
                              <span class="px-3 handCursor" style="font-size: 14px;color: #140202;">Add New File /
                                Document</span>
                            </div>

                          </div>
                        </div>

                        <div class="border d-flex justify-content-around"
                          style="padding: 5px 0px 5px 0px ;margin: 5px  6px;border-radius: 5px;"
                          *ngFor="let patientScreeningRecordsData of illnessSurgicalAttachmentsDirect; let i = index">
                          <div class="col-md-2">
                            <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png"
                              class="mr-1">
                          </div>
                          <div class="col-md-8">

                            <div class="">
                              <span
                                style="font-size: 9px;font-weight: 600; color: #140202;">{{ patientScreeningRecordsData.filePath.split('/')[3] }}</span>
                            </div>

                          </div>
                          <div class="col-md-2" style="text-align: end;"
                            (click)="removeEditillnessSurgicalAttachmentsDirect(i)">
                            <div class=" ">
                              <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                                class=" handCursor " width="30%" style="margin-right: 3px;">
                            </div>
                          </div>

                        </div>

                        <div style="padding: 5px;">
                          <div class="row" style="padding-left: 15px;">
                            <label style="font-size: 12px;font-weight: 600;color: #140202; ">More Details</label>
                          </div>
                          <div class="row" style="padding-left: 15px;">
                            <input value="patientScreeningRecordsData.moreDetails"
                              style="border-radius: 5px;font-size: 12px; margin-right: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                              class="p-2 form-control" formControlName="moreDetails">
                          </div>
                        </div>

                      </form>
                    </div>
                    <div style="text-align: center;margin-top: 16px;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>


                      <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')" style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;
                      border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
                      <button class="btn btn-sm "
                        style="width:30%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
                        (click)="editPatIllSurgicalFormSubmitDirect(selectedSurgicalRecordData)">Save Changes</button>

                    </div>

                  </div>
                </ng-template>

                <button mat-menu-item (click)="openDeleteSurgicalRecordMethod(deleteSurgicalRecordModel,
                  selectedSurgicalRecordData)">
                  <span>Delete</span>
                </button>
                <ng-template #deleteSurgicalRecordModel let-modal>
                  <div class="modal-body">

                    <div class="d-flex p-1">
                      <div class="col-md-4 text-center p-3 m-0">
                        <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                          style="width: 80%; margin-top: 10px;">
                      </div>
                      <div class="col-md-8" style="text-align: center;padding: 30px 30px 15px 30px;">
                        <span class=" font-weight-small" style="font-size: 14px;font-weight: 600;color: #474747;">
                          Delete Surgical Procedure Record
                        </span><br><br>
                        <span class="" style="font-size: 12px;font-weight: 500;color: #000000;">Are you sure you want to
                          delete this surgical
                          record ? </span>
                      </div>
                    </div>
                    <div style="text-align: center;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>
                      <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-8">
                          <button class="btn btn-sm mr-3"
                            style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="modal.close('Close click')">Cancel
                          </button>
                          <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="deletePatientSurgicalRecordDataDirect(selectedSurgicalRecordData)">Delete
                          </button>
                        </div>
                      </div>
                    </div>

                  </div>
                </ng-template>

              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row" style="padding-left: 35px;" *ngIf="!isViewImmunizations">
    <div class="row bg-white px-2 py-2 pr-4 w-100 justify-content-between">
      <span class="tableHead justify-content-center" id="modal-basic-title">Immunizations</span>
      <img style="width: 1.35rem;cursor: pointer;" class="crossImg"
        (click)="openAddImmunizationsMethod(addImmunizationsModel)"
        src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png">
    </div>
    <div class="row scroll w-100 tableFixHead">
      <table class="table text-center ">
        <thead class=" " style="background-color: #3e454c;color: white;">
          <tr class="medium" style="font-weight: normal;height: 40px;
          line-height: 2;">
            <th scope="col" class="border text-center">No</th>
            <th scope="col" class="border  text-center">Date</th>
            <th scope="col" class="border text-center">Vaccine Name</th>
            <th scope="col" class="border text-center">Doctor</th>
            <th scope="col" class="border text-center">Notes</th>
            <th scope="col" class="border  text-center">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="!(Immunizations && Immunizations.length)"
            style="text-align: center;background-color: white;padding: 20px;">
            <td style="text-align: center;font-size: 12px;font-weight: 600;" colspan="7">Don't have Immunizations
              Records
            </td>
          </tr>
          <tr class=" small " style="background: #FFFFFF 0% 0% no-repeat padding-box;
          box-shadow: 0px 6px 12px #44444414;
          border-radius: 6px;
          opacity: 1;" *ngFor="let selectedInvoicesData of Immunizations ; let i = index">
            <td scope="row" class="text-center">{{i+1}}</td>
            <td class="" style="padding-left: 6%;">{{selectedInvoicesData.immunizationDate}}</td>
            <td class="" style="padding-left: 11%;">{{selectedInvoicesData.immunizationName}}</td>
            <td class="" style="padding-left: 6%;">{{selectedInvoicesData.doctorName}}</td>
            <td class="" style="padding-left: 6%;">{{selectedInvoicesData.notes}}</td>
            <td class="menu text-center text-info" style="padding: 0px; overflow: hidden; padding-top: 5px;">
              <button [matMenuTriggerFor]="beforeMenu" aria-label="Example icon-button with a menu" style="color: #53b8c5;background-color: Transparent;
              background-repeat:no-repeat;
              border: none;
              cursor:pointer;
              overflow: hidden;
              outline:none;">
                <img style="width: 0.32rem;" class="crossImg" src="../../../assets/images/ui/Icons/1x/menu.png">
              </button>
              <mat-menu #menu="matMenu" class="menudata" #beforeMenu="matMenu" xPosition="before">
                <button mat-menu-item class="menuItembtn" style="outline: none !important;"
                  (click)="openViewImmunizationModal(viewImmunizationModel,selectedInvoicesData)">
                  <span>View</span>
                </button>
                <ng-template #viewImmunizationModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Immunization Record</span>

                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body" style="height: 50%;">
                    <div class="pl-3">
                      <div class="row p-2">
                        <span style="font-size: 12px;font-weight: 600;color: #8d8b8b;">Case No : &nbsp;&nbsp;</span>
                        <span
                          style="font-size: 12px;font-weight: 600;">{{selectedInvoicesData.immunization_record_id}}</span>
                      </div>
                      <div class="row p-2">
                        <span style="font-size: 12px;font-weight: 600;color: #8d8b8b;">Date : &nbsp;&nbsp;</span>
                        <span style="font-size: 12px;font-weight: 600;">{{selectedInvoicesData.immunizationDate}}</span>
                      </div>
                      <div class="row p-2">
                        <span style="font-size: 12px;font-weight: 600;color: #8d8b8b;">Patient ID : &nbsp;&nbsp;</span>
                        <span style="font-size: 12px;font-weight: 600;">{{selectedInvoicesData.patientID}}</span>
                      </div>
                      <div class="row p-2">
                        <span style="font-size: 12px;font-weight: 600;color: #8d8b8b;">Doctor Name : &nbsp;&nbsp;</span>
                        <span style="font-size: 12px;font-weight: 600;">{{selectedInvoicesData.doctorName}}</span>
                      </div>
                      <div class="row p-2">
                        <span style="font-size: 12px;font-weight: 600;color: #8d8b8b;">Vaccine Name :
                          &nbsp;&nbsp;</span>
                        <span style="font-size: 12px;font-weight: 600;">{{selectedInvoicesData.immunizationName}}</span>
                      </div>
                      <div class="row p-2">
                        <span style="font-size: 12px;font-weight: 600;color: #8d8b8b;">Notes : &nbsp;&nbsp;</span>
                        <span style="font-size: 12px;font-weight: 600;">{{selectedInvoicesData.notes}}</span>
                      </div>
                    </div>

                    <div style="text-align: center;" class="py-2">
                      <button class="btn btn-sm mr-3" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                        color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                        (click)="modal.close('Close click')">Cancel
                      </button>
                    </div>
                  </div>
                </ng-template>
                <button mat-menu-item
                  (click)="openEditImmunizationsMethod(editImmunizationsModel,selectedInvoicesData)">
                  <!--(click)="openEditModal(editContent)"-->
                  <span>Edit</span>
                </button>
                <ng-template #editImmunizationsModel let-modal>
                  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
                    <span class="modal-title justify-content-center" id="modal-basic-title">Edit immunization
                      Record</span>

                    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
                      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
                  </div>
                  <div class="modal-body" style="height: 50%;">
                    <div class="" style="border: 1px solid #707070;">
                      <form [formGroup]="editPatImmunizationForm">
                        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                          <div class="col-5">
                            <div class="row">
                              <span
                                style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                            </div>
                            <div class="row">
                              <input
                                style="border-radius: 5px; height: 30px;font-size: 12px;color: #140202;font-weight: 500;border: 1px solid #cccccc;"
                                class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker"
                                [value]="dateToShow" formControlName="immunizationDate" readonly>
                              <div class="calenderLogo">
                                <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()"
                                  type="button">
                                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="col-2"></div>
                          <div class="col-5">
                            <div class="row">
                              <span
                                style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Time</span>
                            </div>
                            <div class="row">
                              <input type="time"
                                style="border-radius: 5px; height: 30px;font-size: 16px;color: #140202;font-weight: 500;border: 1px solid #cccccc;"
                                class="w-100 form-control bg-white" formControlName="appointmentTime">
                              <!-- <div class="calenderLogo">
                                <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                                  <i class="fas fa-clock" aria-hidden="true"></i>
                                </button>
                              </div> -->
                            </div>
                          </div>
                        </div>
                        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                          <div class="col-5">
                            <div class="row">
                              <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Doctor
                                Name</span>
                            </div>
                            <div class="row">
                              <input
                                style="border-radius: 5px; height: 30px;font-size: 12px;color: #140202;font-weight: 500;border: 1px solid #cccccc;"
                                class="w-100 form-control bg-white" formControlName="doctorName" readonly>
                              <div class="calenderLogo">
                                <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)"
                                  class="p-0 btn calendar" type="button">
                                  <i class="fas fa-search" aria-hidden="true"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="col-2"></div>
                          <div class="col-5">
                          </div>
                        </div>
                        <div class="row p-1" style="padding-bottom: 10px;">
                          <div class="col-4">
                            <label style="font-size: 12px;font-weight: 600;color: #140202;">Select Medical Case
                              &nbsp;&nbsp; : </label>
                          </div>
                          <div class="col-8">
                            <select
                              style="border-radius: 5px; margin-right: -40px; height: 30px;font-size: 12px;outline: none;color: #140202;font-weight: 500;border: 1px solid #cccccc;"
                              class=" form-control" formControlName="immunizationName1">
                              <option *ngFor="let immunization of listOfImmunizations" [value]="immunization.value">
                                {{immunization.value}}
                              </option>
                            </select>
                          </div>
                        </div>
                        <div style=" padding: 5px;">
                          <div class="row" style="padding-left: 15px;">
                            <label style="font-size: 12px;font-weight: 600;color: #140202; ">Vaccine Name</label>
                          </div>
                          <div class="row" style="padding-left: 15px;">
                            <textarea
                              style="border-radius: 5px;font-size: 12px;color: #140202;font-weight: 500;border: 1px solid #cccccc;"
                              formControlName="immunizationName" class="p-2" rows="3" cols="70"></textarea>
                          </div>
                        </div>
                        <div style="padding: 5px;">
                          <div class="row" style="padding-left: 15px;">
                            <label style="font-size: 12px;font-weight: 600;color: #140202; ">Notes</label>
                          </div>
                          <div class="row" style="padding-left: 15px;">
                            <textarea
                              style="border-radius: 5px;font-size: 12px;color: #140202;font-weight: 500;border: 1px solid #cccccc;"
                              formControlName="notes" class="p-2" rows="3" cols="70"></textarea>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div style="text-align: center;margin-top: 16px;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>

                      <button class="btn btn-sm mr-3"
                        style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                      color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                        (click)="modal.close('Close click')">Cancel
                      </button>
                      <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                       color: white;height: 30px;line-height: 1;width: 30%;border-radius: 10px;"
                        (click)="editPatImmunizationSubmit(selectedInvoicesData)">Save Changes
                      </button>

                    </div>
                  </div>
                </ng-template>
                <button mat-menu-item (click)="openDeleteImmunizationMethod(viewDeleteImmunizationModel)">
                  <!--(click)="openDeleteModal(deleteContent)"-->
                  <span>Delete</span>
                </button>
                <ng-template #viewDeleteImmunizationModel let-modal>
                  <div class="modal-body">

                    <div class="d-flex p-1">
                      <div class="col-md-4 text-center p-3 m-0">
                        <img src="../../../assets/images/ui/Icons/1x/delete_1.png"
                          style="width: 80%; margin-top: 10px;">
                      </div>
                      <div class="col-md-8" style="text-align: center;padding: 30px 30px 15px 30px;">
                        <span class=" font-weight-small" style="font-size: 14px;font-weight: 600;color: #474747;">
                          Delete Immunization Record
                        </span><br><br>
                        <span class="" style="font-size: 12px;font-weight: 500;color: #000000;">Are you sure you want to
                          delete this immunization
                          record ? </span>
                      </div>
                    </div>
                    <div style="text-align: center;" class="py-2">
                      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate"
                          [diameter]="30">
                        </mat-progress-spinner>
                      </div>
                      <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-8">
                          <button class="btn btn-sm mr-3"
                            style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="modal.close('Close click')">Cancel
                          </button>
                          <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
                            (click)="deletePatientImmunizationData(selectedInvoicesData)">Delete
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-template>

              </mat-menu>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<!--Add Pat Phy Exam Model-->
<ng-template #addPhysicalExamContent let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;">
    <h5 class="modal-title justify-content-center" id="modal-basic-title">Add Physical Exam Record</h5>
    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.close('Close click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body scroll2">
    <div class="row justify-content-center pb-2 mat-blue">
      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
        <mat-button-toggle style="font-size: 14px;" (click)="viewManualInput()" [style.background-color]="color"
          [style.color]="textColor">Manual Input
        </mat-button-toggle>
        <mat-button-toggle style="font-size: 14px;" (click)="viewAttachment()" [style.background-color]="color1"
          [style.color]="textColor1">Attachment</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <!--Manual Input-->
    <div *ngIf="viewManualInputView">
      <div class="row justify-content-start pl-3 pb-2">
        <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
          <mat-button-toggle style="font-size: 14px;" (click)="viewBasicExam()" [style.background-color]="color2"
            [style.color]="textColor2">Basic Exam</mat-button-toggle>
          <mat-button-toggle style="font-size: 14px;" (click)="viewSystemExam()" [style.background-color]="color3"
            [style.color]="textColor3">System Exam
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <div class=" p-2 " style="border: 1px solid #b3b2b2" *ngIf="viewBasicEx">
        <div class="scroll1">
          <form [formGroup]="basicExamForm">
            <div class="row justify-content-center pb-3">
              <div class="col-md-6 ">
                <div class="row ml-2 pl-1 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">Height</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="padding-left: 15px;margin-left: -7px;">
                    <input type="number" placeholder="" formControlName="height"
                      (input)="onSearchChange($event.target.value)"
                      style=" height: 30px;font-size: 12px;font-weight: 500;" class="form-control bg-white ">
                    <div class="cm">CM</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6 ">
                <div class="row ml-2 pl-1 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">Weight</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="padding-left: 15px;margin-left: -7px;">
                    <input type="number" placeholder="" formControlName="weight"
                      (input)="onSearchChange1($event.target.value)"
                      style=" height: 30px;font-size: 12px;font-weight: 500;" class="form-control bg-white ">
                    <div class="cm">KG</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row justify-content-center pb-3">
              <div class="col-md-6 ">
                <div class="row ml-2 pl-2 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">BMI</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="margin-left: -22px;">
                    <input type="number" placeholder="" formControlName="bmi" readonly
                      style=" height: 30px;font-size: 12px;font-weight: 500;width: 118%;"
                      class="form-control bg-white ">
                  </div>
                </div>
              </div>
              <div class="col-md-6 ">
                <div class="row ml-2 pl-2 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">BMR</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="margin-left: inherit;">
                    <input type="number" placeholder="" formControlName="bmr" readonly
                      style=" height: 30px;font-size: 12px;font-weight: 500;width: 118%;"
                      class="form-control bg-white ">
                  </div>
                </div>
              </div>
            </div>

            <div class="row justify-content-center pb-3">
              <div class="col-md-6 ">
                <div class="row ml-2 pl-2 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">Waistline</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="padding-left: 15px;margin-left: -7px;">
                    <input type="number" placeholder="" formControlName="waistline"
                      style=" height: 30px;font-size: 12px;font-weight: 500;" class="form-control bg-white ">
                    <div class="cm">CM</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6 ">
                <div class="row ml-2 pl-2 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">Blood Pressure</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="padding-left: 50px;margin-left: -7px;">
                    <input type="text" placeholder="" formControlName="bloodPressure"
                      style=" height: 30px;font-size: 12px;font-weight: 500;width: 85%;" class="form-control bg-white ">
                    <div class="mmhg">mmHg</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row justify-content-center pb-2">
              <div class="col-md-6 ">
                <div class="row ml-2 pl-2 pb-1">
                  <span class="modelBodyHead" style="font-size: 12px;font-weight: 600;">Heart Pulse</span>
                </div>
                <div class="row justify-content-center  ">
                  <div class="" style="padding-left: 30px;margin-left: -7px;">
                    <input type="number" placeholder=""
                      style=" height: 30px;font-size: 12px;font-weight: 500;width: 95%;" class="form-control bg-white ">
                    <div class="bpm">BPM</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6 ">

              </div>
            </div>

          </form>
        </div>
      </div>

      <div class="row justify-content-center m-0  p-1" style="border: 1px solid #b3b2b2" *ngIf="viewSystemEx">
        <form>
          <div class="scroll1 border " style="width: 420px;">

            <div class=" p-1" *ngFor="let physicalExaminationValue of physicalExaminationData; let i = index">
              <div class="row w-100 pl-3 ml-0 p-2" style="background-color: #f7f7f7;font-size: 12px;font-weight: 600;">
                {{physicalExaminationValue.category}}
              </div>
              <div class="row p-2">
                <div class="col-6">
                  <div class="" style="margin-left: 0px;">
                    <input type="radio" name="categoryOpt_{{i}}" [(ngModel)]="physicalExaminationValue.result"
                      value="Normal">
                    <label style="font-size: 12px;">&nbsp; Normal</label><br>
                    <input type="radio" name="categoryOpt_{{i}}" [(ngModel)]="physicalExaminationValue.result"
                      value=" Abnormal">
                    <label style="font-size: 12px;">&nbsp; Abnormal</label><br>
                    <input type="radio" name="categoryOpt_{{i}}" [(ngModel)]="physicalExaminationValue.result"
                      value=" Not Examined">
                    <label style="font-size: 12px;">&nbsp; Not Examined</label>
                  </div>
                </div>
                <div class="col-6">

                  <form>
                    <textarea class="form-control border" rows="4" [(ngModel)]="physicalExaminationValue.description"
                      style="font-size: 12px;"
                      [ngModelOptions]="{standalone: true}">{{physicalExaminationValue.description}}</textarea>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <form [formGroup]="belowForm">
            <div class="pt-2">
              <fieldset class="border " style="width: inherit;padding: 0 10px 10px 10px;">
                <legend style="font-size: 12px;font-weight: 600;line-height: 2;" class="w-auto p-2 pt-3">Other</legend>
                <textarea class="form-control border-0" rows="2" style="font-size: 12px;"
                  formControlName="other"></textarea>
              </fieldset>
            </div>
            <div class="pt-2">
              <fieldset class="border " style="width: inherit;padding: 0 10px 10px 10px;">
                <legend style="font-size: 12px;font-weight: 600;line-height: 2;" class="w-auto p-2 pt-3">Physician
                  Comment</legend>
                <textarea class="form-control border-0" rows="3" style="font-size: 12px;"
                  formControlName="physicianCommentsOrRecomdations"></textarea>
              </fieldset>
            </div>
          </form>
        </form>
      </div>
      <div style="text-align: center;margin-top: 16px;" class="py-2" *ngIf="hideOnBasicExam">
        <div *ngIf="isLoading" style="display: flex; justify-content: center;padding-bottom: 7px;">
          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
          </mat-progress-spinner>
        </div>
        <div>

          <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
            style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
          <button class="btn btn-sm "
            style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
            (click)="addPatientPhysicalExamManually(physicalExaminationData)">Save</button>
        </div>

      </div>
    </div>
    <!--Attachment-->
    <div *ngIf="viewAttachmentView">
      <div class="row justify-content-start pl-4 pb-4 pt-4">
        <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
          <mat-button-toggle style="font-size: 14px; background-color:#3e4542;color: white;">File /
            Document</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <div style="height: 300px;">
        <form [formGroup]="addPatientPhysicalExamFileForm" (ngSubmit)="addPatientPhysicalExamFileSubmit()">
          <div style="border: 1px solid #b3b2b2;padding: 20px;">
            <!--height: 300px;-->
            <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                      margin-left: 10px;margin-right: 20px; margin-bottom: 10px;
                      height: 130px;">
              <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                  aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                  (change)="fileProgress($event)" class="d-none">
                <div class="row justify-content-center pt-4 pb-2">
                  <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%" (click)="fileInput.click()">
                </div>
                <div class="row justify-content-center ">
                  <span style="font-size: 14px;">No Files</span>
                </div>
              </div>
            </div>

            <div class="d-flex border p-2 mb-1" *ngFor="let selectedFile of addedFilesArray; let i = index">
              <!--*ngIf="isNoFile"-->
              <div class="col-2" style="justify-content: center;">
                <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png" class="">
              </div>
              <div class="col-8" style="justify-content: start;">
                <span style=" font-size: 12px;font-weight: 600; ">{{selectedFile.name}} {{selectedFile.size}}
                  {{fileValue}}</span>
                <!-- <span style=" font-size: 12px;font-weight: 600; ">{{fileName}} {{fileSize}} {{fileValue}}</span> -->
              </div>
              <div class=" col-2" style="text-align: end;">
                <div class=" ">
                  <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                    class=" handCursor " width="30%" style="margin-right: 3px;" (click)="removeUploadedFile(i)">
                </div>
              </div>
            </div>

            <div class="row py-2 ">
              <!--*ngIf="!isNoFile"-->
              <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                (change)="fileProgress($event)" class="d-none">
              <div style="padding-left: 24px;" (click)="fileInput.click()">
                <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                  width="20rem" class="handCursor">
                <span class="px-3 handCursor" style="font-size: 14px;">Add New File / Document</span>
              </div>
            </div>
          </div>

          <div style="text-align: center; margin-top: 16px;" class="py-2">
            <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
              <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
              </mat-progress-spinner>
            </div>

            <button class="btn btn-sm mr-4" (click)="modal.dismiss('Cross click')"
              style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
            <button class="btn btn-sm "
              style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;">Save</button>

          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal-footer justify-content-center">
  </div>
</ng-template>

<ng-template #viewPhysicalExamContent let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;">
    <h5 class="modal-title justify-content-center" id="modal-basic-title">View Physical Exam Record</h5>

    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.dismiss('Cross click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body">
    <div class="row justify-content-center pb-2">
      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
        <mat-button-toggle style="border-radius: 7% 0 0 7%;" (click)="viewBasicExam()">Basic Exam</mat-button-toggle>
        <mat-button-toggle style="border-radius: 0 7% 7% 0;" (click)="viewSystemExam()">System Exam</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div class=" p-2 border" *ngIf="viewBasicEx">
      <div class="scroll1">

        <div class="row justify-content-center ">
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">Height</span>
            </div>
            <div class="row justify-content-center p-0 ">
              <div class="p-1">
                <input placeholder="150 CM">
              </div>
            </div>
          </div>
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">BMI</span>
            </div>
            <div class="row justify-content-center p-0">
              <div class="p-1">
                <input placeholder="30">
              </div>
            </div>
          </div>
        </div>
        <div class="row justify-content-center ">
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">Weight</span>
            </div>
            <div class="row justify-content-center p-0 ">
              <div class="p-1">
                <input placeholder="50 KG">
              </div>
            </div>
          </div>
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">BMR</span>
            </div>
            <div class="row justify-content-center p-0">
              <div class="p-1">
                <input placeholder="30">
              </div>
            </div>
          </div>
        </div>
        <div class="row justify-content-center ">
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">Waistline</span>
            </div>
            <div class="row justify-content-center p-0 ">
              <div class="p-1">
                <input placeholder="60 CM">
              </div>
            </div>
          </div>
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">Blood Pressure</span>
            </div>
            <div class="row justify-content-center p-0">
              <div class="p-1">
                <input placeholder="90 / 80 mmHg">
              </div>
            </div>
          </div>
        </div>
        <div class="row justify-content-center ">
          <div class="col-md-6 ">
            <div class="row ml-2 p-1">
              <span class="modelBodyHead">Heart Pulse</span>
            </div>
            <div class="row justify-content-center p-0 ">
              <div class="p-1">
                <input placeholder="73 bpm">
              </div>
            </div>
          </div>
          <div class="col-md-6 ">
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-center p-2 border" *ngIf="viewSystemEx">
      <form>
        <div class="scroll1">
          <table class="table table-sm table-bordered">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Category</th>
                <th scope="col">Normal Or Abnormal</th>
                <th scope="col">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let physicalExamination of physicalExaminationData; let i = index">
                <td class="" style="text-align: start;">
                  {{physicalExamination.category}}</td>
                <td>
                  <div class="" style="margin-left: 0px;">
                    <input type="radio" name="categoryOpt_{{i}}" [(ngModel)]="physicalExamination.result"
                      value="Normal">
                    <label>Normal</label><br>
                    <input type="radio" name="categoryOpt_{{i}}" [(ngModel)]="physicalExamination.result"
                      value="Abnormal">
                    <label>Abnormal</label><br>
                    <input type="radio" name="categoryOpt_{{i}}" [(ngModel)]="physicalExamination.result"
                      value="Not Examined">
                    <label>Not Examined</label>
                  </div>
                </td>
                <td>
                  <textarea class="form-control border-0" rows="3">{{physicalExamination.description}}</textarea>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>
  </div>
  <div class="modal-footer justify-content-center">
    <button class="btn btn-sm"
      style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;"
      (click)="modal.close('Close click')">Close
    </button>
  </div>
</ng-template>

<!--Add Pat Medical History Model-->
<ng-template #addMedicalHistoryModel let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
    <span class="modal-title justify-content-center" id="modal-basic-title">Add Medical History</span>
    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.close('Close click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body" style="height: 70%;">
    <div class="row" style="padding: 5px;">
      <div class="col-12 d-flex" style="padding: 7px;">
        <!--style="padding: 0px 8px 8px 8px"-->
        <button class="btn btn-sm " style="margin-right: 4px; background-color: #F5F5F5 ;
        font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientIllness()"
          [ngClass]="{ 'active' : isValue == 1 }">Illness
          Info</button>
        <button class="btn btn-sm " style="margin-right: 4px;background-color: #F5F5F5 ;
        font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientDiagnostic()"
          [ngClass]="{ 'active' : isValue == 2 }">Diagnostic
          Notes</button>
        <button class="btn btn-sm " style="margin-right: 4px;background-color: #F5F5F5 ;
        font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientMedications()"
          [ngClass]="{ 'active' : isValue == 3 }">Medications</button>
        <button class="btn btn-sm  " style="background-color: #F5F5F5 ;
        font-size: 14px;font-weight: 500;color: #8D8D8D;" (click)="openPatientSurgical()"
          [ngClass]="{ 'active' : isValue == 4 }">Surgical
          Procedures</button>
      </div>
    </div>

    <div *ngIf="!viewPatientIllness">
      <div class="" style="border: 1px solid #707070; padding: 5px;">
        <form [formGroup]="addPatIllnessForm">
          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
              </div>
              <div class="row">
                <input
                  style="border-radius: 5px; height: 30px; font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                  class="w-100 form-control bg-white" ngbDatepicker #d2="ngbDatepicker" readonly>
                <div class="calenderLogo">
                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d2.toggle()" type="button">
                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-2"></div>
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Time</span>
              </div>
              <div class="row">
                <input type="time"
                  style="border-radius: 5px; height: 30px; font-size: 16px;border: 1px solid #cccccc;font-weight: 500;color: #140202;"
                  class="w-100 form-control bg-white">
                <!-- <div class="calenderLogo">
                  <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                    <i class="fas fa-clock" aria-hidden="true"></i>
                  </button>
                </div> -->
              </div>
            </div>
          </div>

          <div style=" padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600; color: #140202;">Illness Condition</label>
            </div>
            <div class="row" style="padding-left: 15px;padding-right: 15px;">
              <input
                style="border-radius: 5px;font-size: 12px;border: 1px solid #cccccc;font-weight: 500;color: #140202;"
                class="pl-2 p-1 w-100" formControlName="illnessCondition">
            </div>
          </div>

          <div class="row p-1" style="padding-bottom: 10px;">
            <div class="col-4">
              <label style="font-size: 12px;font-weight: 600;color: #140202;">Is Current Illness &nbsp;&nbsp; : </label>
            </div>

            <div class="col-2">
              <label class="radio-inline" style="font-size: 12px;">
                <input type="radio" name="isCurrentIllness" value="true" checked formControlName="isCurrentIllness"
                  style="font-weight: 500;color: #140202;">&nbsp; Yes
              </label>
            </div>

            <div class="col-2">
              <label class="radio-inline" style="font-size: 12px;">
                <input type="radio" name="isCurrentIllness" value="false" formControlName="isCurrentIllness"
                  style="font-weight: 500;color: #140202;">&nbsp; No
              </label>
            </div>

            <div class="col-4"></div>
          </div>

          <div class="row p-1" style="padding-bottom: 10px;">
            <div class="col-4">
              <label style="font-size: 12px;font-weight: 600;color: #140202;">Current Status &nbsp;&nbsp; : </label>
            </div>
            <div class="col-8">
              <select style="border-radius: 5px; margin-right: -40px; height: 30px;font-size: 12px;
              border: 1px solid #cccccc;outline: none;font-weight: 500;color: #140202;" class=" form-control"
                formControlName="currentStatus">
                <option *ngFor="let illnessCondition of listOfIllnessConditions" [value]="illnessCondition.value">
                  {{illnessCondition.value}}
                </option>
              </select>
            </div>
          </div>

          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Start Date</span>
              </div>
              <div class="row">
                <input style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;
                border: 1px solid #cccccc;color: #140202;" class="w-100 form-control bg-white" ngbDatepicker
                  #d="ngbDatepicker" readonly formControlName="startDate">
                <div class="calenderLogo">
                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-2"></div>
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">End Date</span>
              </div>
              <div class="row">
                <input style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;
                border: 1px solid #cccccc;color: #140202;" class="w-100 form-control bg-white" ngbDatepicker
                  #d1="ngbDatepicker" readonly formControlName="endDate">
                <div class="calenderLogo">
                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d1.toggle()" type="button">
                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div style=" padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Symptoms</label>
            </div>
            <div class="row" style="padding-left: 15px;padding-right: 15px;">
              <input
                style="border-radius: 5px;font-size: 12px;border: 1px solid #cccccc;font-weight: 500;color: #140202;"
                class="pl-2 p-1 w-100" formControlName="symptoms">
            </div>
          </div>
          <div style="padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Description</label>
            </div>
            <div class="row" style="padding-left: 15px;padding-right: 15px;">
              <input
                style="border-radius: 5px;font-size: 12px;border: 1px solid #cccccc;font-weight: 500;color: #140202;"
                class="pl-2 p-1 w-100" formControlName="description">
            </div>
          </div>
        </form>
      </div>
      <div style="text-align: center;margin-top: 20px;" class="py-2">
        <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
          </mat-progress-spinner>
        </div>
        <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
          style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
        <button class="btn btn-sm "
          style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
          (click)="addPatMedicalRecordIllnessSubmit()">Save</button>

      </div>
    </div>

    <div *ngIf="!viewPatientDiagnostic">

      <div class="" style="border: 1px solid #707070; padding: 5px;">
        <form [formGroup]="addPatIllnessDiagnosisForm">
          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date of
                  Diagnosis</span>
              </div>
              <div class="row">
                <input
                  style="border-radius: 5px; height: 30px; font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                  class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker" readonly
                  formControlName="diagnosisDate">
                <div class="calenderLogo">
                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-2"></div>
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Doctor</span>
              </div>
              <div class="row">
                <input
                  style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                  class="w-100 form-control bg-white" formControlName="doctorName" readonly>
                <div class="calenderLogo">
                  <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)" class="p-0 btn calendar"
                    type="button">
                    <i class="fas fa-search" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div style=" padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Diagnosis</label>
            </div>
            <div class="row" style="padding-left: 15px;">
              <textarea
                style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                class="p-2" rows="2" cols="68" formControlName="diagnosis"></textarea>
            </div>
          </div>
          <div style="padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600;color: #140202; ">Prescription</label>
            </div>
            <div class="row" style="padding-left: 15px;">
              <textarea
                style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                class="p-2" rows="2" cols="68" formControlName="prescription"></textarea>
            </div>
          </div>
          <div style="padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600;color: #140202;">Remarks</label>
            </div>
            <div class="row" style="padding-left: 15px;">
              <textarea
                style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                class="p-2" rows="2" cols="68" formControlName="remark"></textarea>
            </div>
          </div>
        </form>
      </div>
      <div style="text-align: center;margin-top: 20px;" class="py-2">
        <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
          </mat-progress-spinner>
        </div>

        <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
          style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
        <button class="btn btn-sm "
          style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
          (click)="addPatMedicalRecordDiagnosisNotesSubmit()">Save</button>

      </div>

    </div>

    <div *ngIf="!viewPatientMedications">
      <div class="row justify-content-start pl-3 pb-2 mat-blue">
        <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
          <mat-button-toggle style="font-size: 14px;" (click)="viewManualInput()" [style.background-color]="color"
            [style.color]="textColor">Manual Input
          </mat-button-toggle>
          <mat-button-toggle style="font-size: 14px;" (click)="viewAttachment()" [style.background-color]="color1"
            [style.color]="textColor1">Attachment</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <!--Manual Input-->
      <div *ngIf="viewManualInputView">
        <div class=" p-2 " style="border: 1px solid #707070">

          <div class="">
            <form [formGroup]="addPatIllMedicationManuallyForm" (ngSubmit)="addPatIllnessMedicationManuallySubmit()">
              <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
                <div class="col-5">
                  <div class="row">
                    <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                  </div>
                  <div class="row">
                    <input
                      style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                      class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker" readonly>
                    <div class="calenderLogo">
                      <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                        <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-2"></div>
                <div class="col-5">
                  <div class="row">
                    <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Doctor</span>
                  </div>
                  <div class="row">
                    <input
                      style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                      class="w-100 form-control bg-white" formControlName="doctorName" readonly>
                    <div class="calenderLogo">
                      <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)"
                        class="p-0 btn calendar" type="button">
                        <i class="fas fa-search" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row" style="padding-left: 7px;">
                <div class="col-1"></div>
                <div class="col-4 modelBodyHead" style="text-align: center;">
                  <span class=" headText" style="font-size: 14px;font-weight: 600;color: #140202;">Medication
                    Name</span>
                </div>
                <div class="col-3 modelBodyHead " style="text-align: center;">
                  <span class=" headText" style="font-size: 14px;font-weight: 600;color: #140202;">Dosage</span>
                </div>
                <div class="col-3 modelBodyHead " style="text-align: center;">
                  <span class="headText" style="font-size: 14px;font-weight: 600;color: #140202;">Frequency</span>
                </div>
                <div class="col-1"></div>
              </div>

              <div formArrayName="addMedicationArray" class="pt-2 scroll1" style="height: 150px !important;">
                <ng-container *ngFor="let desease of addmedicationsObj.controls; let i =index">
                  <div class="form-group row" style="padding-left: 7px;" [formGroupName]="i">
                    <div class="col-1" style="line-height: 2;font-size: 12px;">
                      {{i+1}}
                    </div>
                    <div class="col-4">
                      <input type="text" formControlName="name" style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;
                        color: #140202;border: 1px solid #cccccc;" class=" form-control  ">
                    </div>
                    <div class="col-3">
                      <input type="text" formControlName="dosage" style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;
                        color: #140202;border: 1px solid #cccccc;" class=" form-control  ">
                    </div>
                    <div class="col-3">
                      <input type="text" formControlName="freq" style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;
                        color: #140202;border: 1px solid #cccccc;" class=" form-control  ">
                    </div>
                    <div class="col-1 p-0" style="margin-top: 6px;" (click)="removeAddMedication(i)">
                      <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon metro-cancel.png"
                        style="margin-top: -9px;" width="20rem" class="handCursor">
                    </div>
                  </div>
                </ng-container>
              </div>
              <div class="row py-2  ">
                <div style="padding-left: 20px;" (click)="addMedicationToList()">
                  <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                    width="20rem" class="handCursor">
                  <span class="px-3 handCursor" style="font-size: 12px;font-weight: 600;color: #140202;">Add New
                    Medication</span>
                </div>
              </div>
              <div style="padding: 5px;">
                <div class="row" style="padding-left: 15px;">
                  <label style="font-size: 12px;font-weight: 600; color: #140202;">Instructions</label>
                </div>
                <div class="row" style="padding-left: 15px;">
                  <textarea
                    style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                    class="p-2" rows="2" cols="68"></textarea>
                </div>
              </div>
            </form>
          </div>
        </div>

        <div style="text-align: center;margin-top: 20px;" class="py-2">
          <div *ngIf="isLoading" style="display: flex; justify-content: center;padding-bottom: 7px;">
            <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
            </mat-progress-spinner>
          </div>
          <div>

            <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
              style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
            <button class="btn btn-sm "
              style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
              (click)="addPatIllnessMedicationManuallySubmit()">Save</button>

          </div>

        </div>
      </div>
      <!--Attachment-->
      <div *ngIf="viewAttachmentView">
        <div style="">
          <!--height: 350px;-->
          <form [formGroup]="addPatientMedHistoryFileForm"
            (ngSubmit)="addPatientMedicalHistoryIllnessMedicationAttachmentSubmit()">
            <div style="border: 1px solid #707070;padding: 10px;">
              <!--height: 300px;-->
              <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                        margin-left: 10px;margin-right: 10px; margin-bottom: 10px;
                        height: 130px;">
                <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                  <div class="row justify-content-center pt-4 pb-2">
                    <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                  </div>
                  <div class="row justify-content-center ">
                    <span style="font-size: 14px;">No Files</span>
                  </div>
                </div>
              </div>

              <div class="d-flex border p-2" *ngIf="isNoFile">
                <div class="col-2" style="justify-content: center;">
                  <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png" class="">
                </div>
                <div class="col-8" style="justify-content: start;">
                  <span style="font-size: 12px;font-weight: 600;color: #140202; ">{{fileName}} {{fileSize}}
                    {{fileValue}}</span>
                </div>
                <div class="col-2" style="text-align: end;">
                  <div class=" ">
                    <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                      class=" handCursor " width="30%" style="margin-right: 3px;" (click)="removeUploadedFile2()">
                  </div>
                </div>
              </div>

              <div class="row py-2  ">
                <div *ngIf="!isNoFile">
                  <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                    aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                    (change)="fileProgress2($event)" class="d-none">
                  <div style="padding-left: 24px;" (click)="fileInput.click()">
                    <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                      width="20rem" class="handCursor">
                    <span class="px-3 handCursor" style="font-size: 14px;font-weight: 500;color: #140202;">Add New File
                      / Document</span>
                  </div>
                </div>

                <div class="" style="margin-left: 18px;margin-top: 10px;padding-bottom: 5px;">
                  <div class="row">
                    <label style="font-size: 12px;font-weight: 600;color: #140202;" class="pl-3">Instructions</label>
                  </div>
                  <div>
                    <textarea
                      style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                      class="p-2" rows="2" cols="67" formControlName="prescription1MoreDetails"></textarea>
                  </div>
                </div>

              </div>
            </div>

            <div style="text-align: center;margin-top: 20px;" class="py-2">
              <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
                <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
                </mat-progress-spinner>
              </div>

              <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
                style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
              <button class="btn btn-sm "
                style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;">Save</button>

            </div>
          </form>
        </div>
      </div>
    </div>

    <div *ngIf="!viewPatientSurgical">
      <div class="scroll4" style="border: 1px solid #707070; padding: 5px;">
        <form [formGroup]="addPatIllnessSurgicalForm">
          <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;">Date</span>
              </div>
              <div class="row">
                <input style="border-radius: 5px; height: 30px;font-size: 12px;" class="w-100 form-control bg-white"
                  ngbDatepicker #d="ngbDatepicker" readonly formControlName="surgeryDate">
                <div class="calenderLogo">
                  <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="col-2"></div>
            <div class="col-5">
              <div class="row">
                <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;">Time</span>
              </div>
              <div class="row">
                <input type="time" style="border-radius: 5px; height: 30px;font-size: 16px;"
                  class="w-100 form-control bg-white">
              </div>
            </div>
          </div>
          <div style=" padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600; ">Surgen</label>
            </div>
            <div class="row" style="padding-left: 15px;">
              <input style="border-radius: 5px;font-size: 12px; margin-right: 16px;" class="p-2 form-control bg-white"
                formControlName="doctorName" readonly>
              <div class="searchLogo">
                <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)" class="p-0 btn searchLogo"
                  type="button">
                  <i class="fas fa-search" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
          <div style=" padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600; ">Surgery Name</label>
            </div>
            <div class="row" style="padding-left: 15px;">
              <input style="border-radius: 5px;font-size: 12px; margin-right: 16px;" class="p-2 form-control"
                formControlName="surgeryProcedure">
            </div>
          </div>
          <div style="padding: 5px;">
            <div class="row" style="padding-left: 15px;">
              <label style="font-size: 12px;font-weight: 600; ">More Information</label>
            </div>
            <div class="row" style="padding-left: 15px;">
              <input style="border-radius: 5px;font-size: 12px; margin-right: 16px;" class="p-2 form-control"
                formControlName="surgeryInformation">
            </div>
          </div>

          <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;
            border-radius: 5px; margin-left: 10px;margin-right: 20px; margin-bottom: 10px;
                      height: 130px; margin-top: 15px;">
            <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
              <div class="row justify-content-center pt-4 pb-2">
                <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
              </div>
              <div class="row justify-content-center ">
                <span style="font-size: 14px;">No Files</span>
              </div>
            </div>
          </div>

          <div class="d-flex border p-2" style="margin-top: 15px;" *ngIf="isNoFile">
            <div class="col-2" style="justify-content: center;">
              <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png" class="">
            </div>
            <div class="col-8" style="justify-content: start;">
              <span style="font-size: 12px;font-weight: 600; ">{{fileName}} {{fileSize}} {{fileValue}}</span>
            </div>
            <div class="col-2" style="text-align: end;">
              <div class=" ">
                <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                  class=" handCursor " width="30%" style="margin-right: 3px;" (click)="removeUploadedFile3()">
              </div>
            </div>
          </div>

          <div class="row py-2  ">
            <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
              aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf" (change)="fileProgress3($event)"
              class="d-none">
            <div style="padding-left: 24px;" (click)="fileInput.click()">
              <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                width="20rem" class="handCursor">
              <span class="px-3 handCursor" style="font-size: 12px;">Add New File / Document</span>
            </div>

            <div class="" style="margin-left: 30px;margin-top: 10px;padding-bottom: 5px;">
              <div class="row">
                <label style="font-size: 12px;font-weight: 600;" class="pl-3">More Details</label>
              </div>
              <div>
                <textarea style="border-radius: 5px;font-size: 12px;border: 1px solid #ced4da;" class="p-2" rows="2"
                  cols="63" formControlName="moreDetails"></textarea>
              </div>
            </div>

          </div>

        </form>
      </div>
      <div style="text-align: center;margin-top: 20px;" class="py-2">
        <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
          </mat-progress-spinner>
        </div>

        <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
          style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
        <button class="btn btn-sm "
          style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
          (click)="addPatIllSurgicalFormSubmit()">Save</button>

      </div>
    </div>

  </div>

</ng-template>

<!--Add Pat Medications Model-->
<ng-template #addMedicationsModel let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;">
    <h5 class="modal-title justify-content-center" id="modal-basic-title">Add Medications</h5>
    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.close('Close click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body" style="height: 50%;">
    <div class="row justify-content-start pl-3 pb-2 mat-blue">
      <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
        <mat-button-toggle style="font-size: 14px;" (click)="viewManualInput()" [style.background-color]="color"
          [style.color]="textColor">Manual Input
        </mat-button-toggle>
        <mat-button-toggle style="font-size: 14px;" (click)="viewAttachment()" [style.background-color]="color1"
          [style.color]="textColor1">Attachment</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <!--Manual Input-->
    <div *ngIf="viewManualInputView">
      <div class=" p-2 " style="border: 1px solid #707070">
        <div class="">
          <form [formGroup]="addPatIllMedicationManuallyFormDirectly"
            (ngSubmit)="addPatIllnessMedicationManuallySubmitDirectly()">
            <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
              <div class="col-5">
                <div class="row">
                  <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
                </div>
                <div class="row">
                  <input
                    style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                    class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker" readonly>
                  <div class="calenderLogo">
                    <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                      <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-2"></div>
              <div class="col-5">
                <div class="row">
                  <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Doctor</span>
                </div>
                <div class="row">
                  <input
                    style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                    class="w-100 form-control bg-white" formControlName="doctorName" readonly>
                  <div class="calenderLogo">
                    <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)"
                      class="p-0 btn calendar" type="button">
                      <i class="fas fa-search" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row p-1" style="padding-bottom: 10px;">
              <div class="col-4">
                <label style="font-size: 12px;font-weight: 600;color: #140202;">Select Medical Case &nbsp;&nbsp; :
                </label>
              </div>
              <div class="col-8">
                <select style="border-radius: 5px; margin-right: -40px; height: 30px;font-size: 12px;
                border: 1px solid #cccccc;outline: none;font-weight: 500;color: #140202;" class=" form-control"
                  formControlName="illnessID">
                  <option *ngFor="let illnessCondition of availableIllnessIDs" [value]="illnessCondition.value">
                    {{illnessCondition.value}}
                  </option>
                </select>
              </div>
            </div>
            <div class="row" style="padding-left: 7px;">
              <div class="col-1"></div>
              <div class="col-4 modelBodyHead" style="text-align: center;">
                <span class=" headText" style="font-size: 14px;font-weight: 600;color: #140202;">Medication
                  Name</span>
              </div>
              <div class="col-3 modelBodyHead " style="text-align: center;">
                <span class=" headText" style="font-size: 14px;font-weight: 600;color: #140202;">Dosage</span>
              </div>
              <div class="col-3 modelBodyHead " style="text-align: center;">
                <span class="headText" style="font-size: 14px;font-weight: 600;color: #140202;">Frequency</span>
              </div>
              <div class="col-1"></div>
            </div>

            <div formArrayName="addMedicationArrayDirect" class="pt-2 scroll1" style="height: 150px !important;">
              <ng-container *ngFor="let desease of addmedicationsObjDirect.controls; let i =index">
                <div class="form-group row" style="padding-left: 7px;" [formGroupName]="i">
                  <div class="col-1" style="line-height: 2;font-size: 12px;">
                    {{i+1}}
                  </div>
                  <div class="col-4">
                    <input type="text" formControlName="name" style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;
                      color: #140202;border: 1px solid #cccccc;" class=" form-control  ">
                  </div>
                  <div class="col-3">
                    <input type="text" formControlName="dosage" style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;
                      color: #140202;border: 1px solid #cccccc;" class=" form-control  ">
                  </div>
                  <div class="col-3">
                    <input type="text" formControlName="freq" style="border-radius: 5px;  height: 30px;font-size: 12px;font-weight: 500;
                      color: #140202;border: 1px solid #cccccc;" class=" form-control  ">
                  </div>
                  <div class="col-1 p-0" style="margin-top: 6px;" (click)="removeAddMedicationDirect(i)">
                    <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon metro-cancel.png"
                      style="margin-top: -9px;" width="20rem" class="handCursor">
                  </div>
                </div>
              </ng-container>
            </div>
            <div class="row py-2  ">
              <div style="padding-left: 20px;" (click)="addMedicationToListDirect()">
                <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                  width="20rem" class="handCursor">
                <span class="px-3 handCursor" style="font-size: 12px;font-weight: 600;color: #140202;">Add New
                  Medication</span>
              </div>
            </div>
            <div style="padding: 5px;">
              <div class="row" style="padding-left: 15px;">
                <label style="font-size: 12px;font-weight: 600; color: #140202;">Instructions</label>
              </div>
              <div class="row" style="padding-left: 15px;">
                <textarea
                  style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                  class="p-2" rows="2" cols="68"></textarea>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div style="text-align: center;margin-top: 20px;" class="py-2">
        <div *ngIf="isLoading" style="display: flex; justify-content: center;padding-bottom: 7px;">
          <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
          </mat-progress-spinner>
        </div>
        <div>

          <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
            style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
          <button class="btn btn-sm "
            style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
            (click)="addPatIllnessMedicationManuallySubmitDirectly()">Save</button>

        </div>

      </div>
    </div>
    <!--Attachment-->
    <div *ngIf="viewAttachmentView">
      <div style="">
        <form [formGroup]="addPatientMedHistoryFileFormDirect"
          (ngSubmit)="addPatientMedicalHistoryIllnessMedicationAttachmentSubmitDirect()">
          <div style="border: 1px solid #707070;padding: 10px;">
            <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;border-radius: 5px;
                      margin-left: 10px;margin-right: 10px; margin-bottom: 10px;
                      height: 130px;">
              <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
                <div class="row justify-content-center pt-4 pb-2">
                  <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
                </div>
                <div class="row justify-content-center ">
                  <span style="font-size: 14px;">No Files</span>
                </div>
              </div>
            </div>
            <div class="d-flex border p-2" *ngIf="isNoFile">
              <div class="col-2" style="justify-content: center;">
                <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png" class="">
              </div>
              <div class="col-8" style="justify-content: start;">
                <span style="font-size: 12px;font-weight: 600;color: #140202; ">{{fileName}} {{fileSize}}
                  {{fileValue}}</span>
              </div>
              <div class="col-2" style="text-align: end;">
                <div class=" ">
                  <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                    class=" handCursor " width="30%" style="margin-right: 3px;" (click)="removeUploadedFile2Direct()">
                </div>
              </div>
            </div>
            <div class="row py-2  ">
              <div *ngIf="!isNoFile">
                <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
                  aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
                  (change)="fileProgress2Direct($event)" class="d-none">
                <div style="padding-left: 24px;" (click)="fileInput.click()">
                  <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
                    width="20rem" class="handCursor">
                  <span class="px-3 handCursor" style="font-size: 14px;font-weight: 500;color: #140202;">Add New File
                    / Document</span>
                </div>
              </div>
              <div class="" style="margin-left: 18px;margin-top: 10px;padding-bottom: 5px;">
                <div class="row">
                  <label style="font-size: 12px;font-weight: 600;color: #140202;" class="pl-3">Instructions</label>
                </div>
                <div>
                  <textarea
                    style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                    class="p-2" rows="2" cols="67" formControlName="prescription1MoreDetails"></textarea>
                </div>
              </div>

            </div>
          </div>

          <div style="text-align: center;margin-top: 20px;" class="py-2">
            <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
              <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
              </mat-progress-spinner>
            </div>

            <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
              style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
            <button class="btn btn-sm "
              style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;">Save</button>

          </div>
        </form>
      </div>
    </div>
  </div>
</ng-template>

<!--Add Pat Surgical Procedures Model-->
<ng-template #addSurgicalProceduresModel let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;">
    <h5 class="modal-title justify-content-center" id="modal-basic-title">Add Surgical Procedures</h5>
    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.close('Close click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body" style="height: 50%;">

    <div class="scroll4" style="border: 1px solid #707070; padding: 5px;">
      <form [formGroup]="addPatIllnessSurgicalFormDirect">
        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
          <div class="col-5">
            <div class="row">
              <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;">Date</span>
            </div>
            <div class="row">
              <input style="border-radius: 5px; height: 30px;font-size: 12px;" class="w-100 form-control bg-white"
                ngbDatepicker #d="ngbDatepicker" readonly formControlName="surgeryDate">
              <div class="calenderLogo">
                <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="col-2"></div>
          <div class="col-5">
            <div class="row">
              <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;">Time</span>
            </div>
            <div class="row">
              <input type="time" style="border-radius: 5px; height: 30px;font-size: 16px;"
                class="w-100 form-control bg-white">
              <!-- <div class="calenderLogo">
                <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                  <i class="fas fa-clock" aria-hidden="true"></i>
                </button>
              </div> -->
            </div>
          </div>
        </div>

        <div class="row p-1" style="padding-bottom: 10px;">
          <div class="col-4">
            <label style="font-size: 12px;font-weight: 600;color: #140202;">Select Medical Case &nbsp;&nbsp; :
            </label>
          </div>
          <div class="col-8">
            <select style="border-radius: 5px; margin-right: -40px; height: 30px;font-size: 12px;
            border: 1px solid #cccccc;outline: none;font-weight: 500;color: #140202;" class=" form-control"
              formControlName="illnessID">
              <option *ngFor="let illnessCondition of availableIllnessIDs" [value]="illnessCondition.value">
                {{illnessCondition.value}}
              </option>
            </select>
          </div>
        </div>
        <div style=" padding: 5px;">
          <div class="row" style="padding-left: 15px;">
            <label style="font-size: 12px;font-weight: 600; ">Surgen</label>
          </div>
          <div class="row" style="padding-left: 15px;">
            <input style="border-radius: 5px;font-size: 12px; margin-right: 16px;" class="p-2 form-control bg-white"
              formControlName="doctorName" readonly>
            <div class="searchLogo">
              <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)" class="p-0 btn searchLogo"
                type="button">
                <i class="fas fa-search" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </div>
        <div style=" padding: 5px;">
          <div class="row" style="padding-left: 15px;">
            <label style="font-size: 12px;font-weight: 600; ">Surgery Name</label>
          </div>
          <div class="row" style="padding-left: 15px;">
            <input style="border-radius: 5px;font-size: 12px; margin-right: 16px;" class="p-2 form-control"
              formControlName="surgeryProcedure">
          </div>
        </div>
        <div style="padding: 5px;">
          <div class="row" style="padding-left: 15px;">
            <label style="font-size: 12px;font-weight: 600; ">More Information</label>
          </div>
          <div class="row" style="padding-left: 15px;">
            <input style="border-radius: 5px;font-size: 12px; margin-right: 16px;" class="p-2 form-control"
              formControlName="surgeryInformation">
          </div>
        </div>

        <div class="text-center py-1 " *ngIf="!isNoFile" style="border: 2px solid rgba(0,0,0,0.3); border-style: dashed;
          border-radius: 5px; margin-left: 10px;margin-right: 20px; margin-bottom: 10px;
                    height: 130px; margin-top: 15px;">
          <div class="justify-content-center pb-2" style="text-align: center;align-self: center;">
            <div class="row justify-content-center pt-4 pb-2">
              <img src="../../../assets/images/ui/Icons/1x/empty@2x.png" width="10%">
            </div>
            <div class="row justify-content-center ">
              <span style="font-size: 14px;">No Files</span>
            </div>
          </div>
        </div>

        <div class="d-flex border p-2" style="margin-top: 15px;" *ngIf="isNoFile">
          <div class="col-2" style="justify-content: center;">
            <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon awesome-file-alt.png" class="">
          </div>
          <div class="col-8" style="justify-content: start;">
            <span style="font-size: 12px;font-weight: 600; ">{{fileName}} {{fileSize}} {{fileValue}}</span>
          </div>
          <div class="col-2" style="text-align: end;">
            <div class=" ">
              <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon material-delete.png"
                class=" handCursor " width="30%" style="margin-right: 3px;" (click)="removeUploadedFile3Direct()">
            </div>
          </div>
        </div>

        <div class="row py-2  ">
          <input type="file" class="form-control" name="file" id="inputGroupFile01" #fileInput
            aria-describedby="inputGroupFileAddon01" accept=".png, .jpg, .jpeg, .pdf"
            (change)="fileProgress3Direct($event)" class="d-none">
          <div style="padding-left: 24px;" (click)="fileInput.click()">
            <img src="../../../assets/images/ui/Icons/patient-medical-module/Icon ionic-ios-add-circle.png"
              width="20rem" class="handCursor">
            <span class="px-3 handCursor" style="font-size: 12px;">Add New File / Document</span>
          </div>

          <div class="" style="margin-left: 30px;margin-top: 10px;padding-bottom: 5px;">
            <div class="row">
              <label style="font-size: 12px;font-weight: 600;" class="pl-3">More Details</label>
            </div>
            <div>
              <textarea style="border-radius: 5px;font-size: 12px;border: 1px solid #ced4da;" class="p-2" rows="2"
                cols="63" formControlName="moreDetails"></textarea>
            </div>
          </div>

        </div>

      </form>
    </div>
    <div style="text-align: center;margin-top: 20px;" class="py-2">
      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
        </mat-progress-spinner>
      </div>

      <button class="btn btn-sm mr-4" (click)="modal.close('Close click')"
        style="width: 20%; margin-left: -10px; font-size: 14px; font-weight: 500;border: 1px solid #707070;color: #474747;border-radius: 10px;">Cancel</button>
      <button class="btn btn-sm "
        style="width:20%;color: white;font-size: 14px; font-weight: bold;background-color: #53b9c6;border-radius: 10px;"
        (click)="addPatIllSurgicalFormSubmitDirect()">Save</button>

    </div>

  </div>
</ng-template>

<!--Add Pat Medications Model-->
<ng-template #addImmunizationsModel let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;font-weight: bold;">
    <span class="modal-title justify-content-center" id="modal-basic-title">Add Immunization Record</span>
    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.close('Close click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body" style="height: 50%;">
    <div class="" style="border: 1px solid #707070;padding: 5px;">
      <form [formGroup]="addPatImmunizationForm">
        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
          <div class="col-5">
            <div class="row">
              <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Date</span>
            </div>
            <div class="row">
              <input
                style="border-radius: 5px; height: 30px; font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                class="w-100 form-control bg-white" ngbDatepicker #d="ngbDatepicker" readonly
                formControlName="immunizationDate">
              <div class="calenderLogo">
                <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="col-2"></div>
          <div class="col-5">
            <div class="row">
              <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Time</span>
            </div>
            <div class="row">
              <input type="time"
                style="border-radius: 5px; height: 30px;font-size: 16px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                class="w-100 form-control bg-white" formControlName="appointmentTime">
              <!-- <div class="calenderLogo">
                <button style="outline-style: none;" class="p-0 btn  calendar" type="button">
                  <i class="fas fa-clock" aria-hidden="true"></i>
                </button>
              </div> -->
            </div>
          </div>
        </div>
        <div class="d-flex p-1" style="padding-left: 5px; padding-bottom: 15px;">
          <div class="col-5">
            <div class="row">
              <span style="font-size: 12px;font-weight: 600;padding-bottom: 5px;color: #140202;">Doctor Name</span>
            </div>
            <div class="row">
              <input
                style="border-radius: 5px; height: 30px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
                class="w-100 form-control bg-white" formControlName="doctorName" readonly>
              <div class="calenderLogo">
                <button style="outline-style: none;" (click)="openDoctorMethod(doctorsModel)" class="p-0 btn calendar"
                  type="button">
                  <i class="fas fa-search" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="col-2"></div>
          <div class="col-5">
          </div>
        </div>
        <div class="row p-1" style="padding-bottom: 10px;">
          <div class="col-4">
            <label style="font-size: 12px;font-weight: 600;color: #140202;">Select Medical Case &nbsp;&nbsp; : </label>
          </div>
          <div class="col-8">
            <select
              style="border-radius: 5px; margin-right: -40px; height: 30px;font-size: 12px;outline: none;border: 1px solid #cccccc;"
              class=" form-control" formControlName="immunizationName1">
              <option *ngFor="let immunization of listOfImmunizations" [value]="immunization.value">
                {{immunization.value}}
              </option>
            </select>
          </div>
        </div>
        <div style=" padding: 5px;">
          <div class="row" style="padding-left: 15px;">
            <label style="font-size: 12px;font-weight: 600;color: #140202; ">Vaccine Name</label>
          </div>
          <div class="row" style="padding-left: 15px;">
            <textarea
              style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
              formControlName="immunizationName" class="p-2" rows="3" cols="68"></textarea>
          </div>
        </div>
        <div style="padding: 5px;">
          <div class="row" style="padding-left: 15px;">
            <label style="font-size: 12px;font-weight: 600;color: #140202; ">Notes</label>
          </div>
          <div class="row" style="padding-left: 15px;">
            <textarea
              style="border-radius: 5px;font-size: 12px;font-weight: 500;color: #140202;border: 1px solid #cccccc;"
              formControlName="notes" class="p-2" rows="3" cols="68"></textarea>
          </div>
        </div>
      </form>
    </div>
    <div style="text-align: center;margin-top: 16px" class="py-2">
      <div *ngIf="isLoading" style="display: flex; justify-content: center; padding-bottom: 5px;">
        <mat-progress-spinner class="example-margin" color="primary" mode="indeterminate" [diameter]="30">
        </mat-progress-spinner>
      </div>

      <button class="btn btn-sm mr-3"
        style="outline-style: none; font-weight: 500;font-size: 14px; background-color:transparent; 
                              color: #474747;border: 1px solid #707070;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
        (click)="modal.close('Close click')">Cancel
      </button>
      <button class="btn btn-sm" style="outline-style: none; font-weight: bold;font-size: 14px; background-color: #53B9C6;
                               color: white;height: 30px;line-height: 1;width: 25%;border-radius: 10px;"
        (click)="addPatImmunizationSubmit()">Save
      </button>

    </div>
  </div>
</ng-template>

<!-- Open List Of Doctors Model -->
<ng-template #doctorsModel let-modal>
  <div class="modal-header" style="background-color: #53B9C6;color: white;">
    <h5 class="modal-title justify-content-center" id="modal-basic-title">Select Doctor</h5>
    <img style="width:18px;cursor: pointer;" class="crossImg" (click)="modal.close('Close click')"
      src="../../../assets/images/ui/Icons/1x/ic_cancel.png">
  </div>
  <div class="modal-body bg-light p-0">
    <div class="row justify-content-center">
      <div class="">
        <div class="row p-3 justify-content-center">
          <span class="font-weight-bold mr-2">Search by FirstName : </span>
          <input class="px-2" type="text" name="searchTerm" (keyup)='searchDoctor($event.target.value)'>
        </div>
        <div class="row scrollDoctor tableFixHead">
          <table class="table text-center ">
            <thead class="thead-dark ">
              <tr class="medium" style="font-weight: normal;">
                <th scope="col" style="font-size: 12px; font-weight: 600;">No</th>
                <th scope="col" style="font-size: 12px; font-weight: 600;">FirstName</th>
                <th scope="col" style="font-size: 12px; font-weight: 600;">LastName</th>
                <th scope="col" style="font-size: 12px; font-weight: 600;">Department</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let doctors of filteredMedicalPersonnels; let i = index" (click)="selectedRow = i"
                [class.highlighted]="i == selectedRow" (click)="selectDoctorFromList(doctors)"
                (click)="modal.close('Close click')" style="cursor:pointer;">
                <td style="font-size: 12px; font-weight: 550;">{{i +1}}</td>
                <td style="font-size: 12px; font-weight: 550;">{{doctors.profile.userProfile.firstName}}</td>
                <td style="font-size: 12px; font-weight: 550;">{{doctors.profile.userProfile.lastName}}</td>
                <!-- <td>{{doctors.medical_personnel_id}}</td> -->
                <td style="font-size: 12px; font-weight: 550;">{{doctors.profile.userProfile.department.slice(0,20)}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</ng-template>