<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
<div class="container-fluid pb-5" style="background-color: #F8FCFD;">
    <div class="row calender-show pl-3 " style="background-color: #F8FCFD; justify-content: flex-end; ">
        <input placeholder="2020-03-13" class=" pl-3" style="width: 40vh;" ngbDatepicker #d="ngbDatepicker" readonly>
        <div class="calenderLogo">
            <button style="outline-style: none;" class="p-0 btn  calendar" (click)="d.toggle()" type="button">
                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            </button>
        </div>
    </div>

    <div class="row p-4 w-25" style="background-color: #F8FCFD;">
        <div class="form-control" style="background-color: #53b8c5; color: white !important;">
            <mat-select (selectionChange)="showData($event.value)" [value]="selected" style="color: white;">
                <mat-option *ngFor="let letSearch of searchByValue" [value]="letSearch.viewValue">
                    {{letSearch.viewValue}}
                </mat-option>
            </mat-select>
        </div>
    </div>

    <div class="row" style="padding-left: 35px;">
        <div class="row bg-white px-2 py-2 pr-4 w-100 justify-content-between">
            <span class="tableHead justify-content-center" id="modal-basic-title" style="font-weight: 600;">Screening
                Record</span>
            <mat-icon class="handCursor">add_circle</mat-icon>
        </div>
        <div class="row scroll w-100">
            <table class="table text-center ">
                <thead class="thead-dark ">
                    <tr class="medium" style="font-weight: normal;">
                        <th scope="col" class="border text-center">No</th>
                        <th scope="col" class="border  text-center">Date/Time</th>
                        <th scope="col" class="border text-center">Type</th>
                        <th scope="col" class="border text-center">Reason For Visit</th>
                        <th scope="col" class="border  text-center">Doctor</th>
                        <th scope="col" class="border text-center">Status</th>
                        <th scope="col" class="border  text-center">Action</th>
                    </tr>
                </thead>
                <tbody class="">
                    <tr class=" shadow small  "
                        *ngFor="let selectedInvoicesData of patientAppointmentsData ; let i = index">
                        <td scope="row" class="text-center">{{i+1}}</td>
                        <td class="tdData" style="padding-left: 34px;">{{selectedInvoicesData.appointmentDate}}</td>
                        <td class="tdData" style="padding-left: 18px;">{{selectedInvoicesData.visitType}}</td>
                        <td class="tdData" style="padding-left: 38px;">{{selectedInvoicesData.reasonForVisit}}</td>
                        <td class="tdData" style="padding-left: 55px;">{{selectedInvoicesData.doctorName}}</td>
                        <td class="tdData" style="padding-left: 55px;">{{selectedInvoicesData.appointmentStatus}}</td>
                        <td class="menu text-center text-info"
                            style="padding: 0px; overflow: hidden; padding-top: 5px;">
                            <button [matMenuTriggerFor]="beforeMenu" aria-label="Example icon-button with a menu" style="color: #53b8c5;background-color: Transparent;
              background-repeat:no-repeat;
              border: none;
              cursor:pointer;
              overflow: hidden;
              outline:none;">
                                <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                            </button>
                            <mat-menu #menu="matMenu" class="menudata" #beforeMenu="matMenu" xPosition="before">
                                <button mat-menu-item class="menuItembtn" style="outline: none !important;"
                                    (click)="openViewMethod(viewModel)">
                                    <span>View Report</span>
                                </button>

                                <ng-template #viewModel let-modal>
                                    <div class="modal-header" style="background-color: #53B9C6;color: white;">
                                        <h5 class="modal-title justify-content-center" id="modal-basic-title">Test
                                            Report</h5>
                                        <mat-icon (click)="modal.close('Close click')" class="handCursor">cancel
                                        </mat-icon>
                                    </div>
                                    <div class="modal-body scroll1">
                                        <div class="row "
                                            style="justify-content: space-between;padding-left: inherit;padding-right: inherit;">
                                            <div>
                                                <label>Issue Date : </label>
                                                <span>28-Apr-2020</span>
                                            </div>
                                            <div>
                                                <label>Report ID # : </label>
                                                <span>UT-003134</span>
                                            </div>
                                        </div>
                                        <div class="" style="border: 0.3px solid #818383;"></div>
                                        <div class="row px-3">
                                            <div class="col-4">
                                                <div>
                                                    <span style="font-size: 14px;font-weight: 600;">Patient
                                                        Information</span>
                                                </div>
                                                <div>
                                                    <img src="../../../assets/images/ui/Icons/1x/admin image.png">
                                                </div>
                                                <div>
                                                    <div class="row">
                                                        <span style="font-size: 12px;font-weight: 600;">Amrutha
                                                            Rao</span>
                                                    </div>
                                                    <div class="row">
                                                        <span style="font-size: 12px;font-weight: 550;">Patient ID :
                                                            PIDabcd1234</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-8">
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">First
                                                            Name</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span style="font-size: 12px; font-weight: 500;">Amrutha</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Last
                                                            Name</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span style="font-size: 12px; font-weight: 500;">Rao</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Gender</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span style="font-size: 12px; font-weight: 500;">Male</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Date of
                                                            Birth</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span
                                                            style="font-size: 12px; font-weight: 500;">07-Apr-1990</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Age</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span style="font-size: 12px; font-weight: 500;">29</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Email</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span
                                                            style="font-size: 12px; font-weight: 500;">amrutharao@gmail.com</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Phone
                                                            Number</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span style="font-size: 12px; font-weight: 500;">+91
                                                            9848022338</span>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-5">
                                                        <span style="font-size: 12px; font-weight: 600;">Address</span>
                                                    </div>
                                                    <div class="col-7">
                                                        <span style="font-size: 12px; font-weight: 500;">H.No:404,
                                                            Chennai Road, Anantapur City, AP,India</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="" style="border: 0.3px solid #818383;"></div>
                                        <div class="" style="border: 0.3px solid #818383;"></div>
                                        <div class="row px-3">
                                            <div class="row pl-3">
                                                <span style="font-size: 14px;font-weight: 600;;">Specimen
                                                    Information</span>
                                            </div>
                                            <div class="col-12">
                                                <div class="row w-auto">
                                                    <div class="col-6">
                                                        <div class="row">
                                                            <div class="col-6">
                                                                <span style="font-size: 12px; font-weight: 600;">Sample Type</span>
                                                            </div>
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 500;">Urine</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-6">
                                                                <span style="font-size: 12px; font-weight: 600;">Collected on</span>
                                                            </div>
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 500;">14-Apr-2020 10:00 AM</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 600;">Received on</span>
                                                            </div>
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 500;">14-Apr-2020 10:30 AM</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-6">
                                                                <span style="font-size: 12px; font-weight: 600;">Fasting</span>
                                                            </div>
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 500;">Yes</span>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="col-6">
                                                        <div class="row">
                                                            <div class="col-6">
                                                                <span style="font-size: 12px; font-weight: 600;">Tested by</span>
                                                            </div>
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 500;">Dr.Balu</span>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-6">
                                                                <span style="font-size: 12px; font-weight: 600;">Tested ID</span>
                                                            </div>
                                                            <div class="col-6">
                                                                <span
                                                                    style="font-size: 12px; font-weight: 500;">TRID1001</span>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="" style="border: 0.3px solid #818383;"></div>
                                        <div class="" style="border: 0.3px solid #818383;"></div>
                                        <div class="row px-3">
                                            <div>Urinalysis Report</div>
                                        </div>
                                        <div class="" style="border: 0.3px solid #818383;"></div>
                                        <div class="row px-3">
                                            <div>Openions / Interpretations</div>
                                        </div>
                                    </div>
                                    <div class="modal-footer justify-content-center">
                                        <button class="btn btn-sm"
                                            style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;height: 30px;"
                                            (click)="modal.close('Close click')">Close
                                        </button>
                                    </div>
                                </ng-template>

                                <button mat-menu-item class="menuItembtn" style="outline: none !important;"
                                    (click)="openShareReportMethod(viewShareReportModel)">
                                    <span>Share Report</span>
                                </button>

                                <ng-template #viewShareReportModel let-modal>
                                    <div class="modal-body">
                                        <div class="d-flex p-1">
                                            <div class="col-md-4 text-center p-3 m-0">
                                                <img src="../../../assets/images/ui/Icons/1x/share.png"
                                                    style="width: 80%; margin-top: 10px;">
                                            </div>
                                            <div class="col-md-8 p-2">
                                                <h5 class=" font-weight-small text-center"
                                                    style="font-size: 14px;font-weight: 600;">
                                                    Share Test Record
                                                </h5><br>
                                                <span class="" style="font-size: 12px;">Want to share the test report to
                                                    UserName via Gmail ? </span>
                                            </div>
                                        </div>
                                        <div style="text-align: center;" class="py-2">
                                            <div *ngIf="isLoading"
                                                style="display: flex; justify-content: center; padding-bottom: 5px;">
                                                <mat-progress-spinner class="example-margin" color="primary"
                                                    mode="indeterminate" [diameter]="30">
                                                </mat-progress-spinner>
                                            </div>
                                            <div>
                                                <button class="btn btn-sm mr-3"
                                                    style="outline-style: none; font-weight: 500;font-size: medium;height: 30px; background-color:transparent; color: black;border: 1px solid black;"
                                                    (click)="modal.close('Close click')">Cancel
                                                </button>
                                                <button class="btn btn-sm"
                                                    style="outline-style: none; font-weight: 500;font-size: medium; background-color: #53B9C6; color: white;height: 30px;"
                                                    (click)="modal.close('Close click')">Share
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>

                            </mat-menu>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>