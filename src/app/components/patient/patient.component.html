<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
<div class="container-fluid">
    <div class="row justify-content-between shadow px-2 py-4">
        <div class="row ml-3">
            <img src="../../../assets/images/ui/Icons/1x/admin center.png"
                style="width: 25px; height: 25px; margin-right: 20px;">
            <h5 style="line-height: 30px;font-weight: bold;">Patient</h5>
        </div>
        <div class="mr-3 dropdown">
            <i class="fa fa-cog fa-lg" aria-hidden="true"></i>
            <div class="dropdown-content">
                <ul class="nav  flex-column p-0 " style="background-color: #f2f2f2;">
                    <li class="nav-item">
                        <a class="nav-link   " [routerLink]="['/admincenter/adminprofile']" routerLinkActive="active">
                            <img src="../../../assets/images/ui/Icons/1x/profile.png"
                                style="width: 17px;  margin-right: 10px;">
                            <span>Profile
                            </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link   " (click)="openSignOut(content1)" routerLinkActive="active">
                            <img src="../../../assets/images/ui/Icons/1x/account-logout.png"
                                style="width: 17px; margin-right: 10px;">
                            <span>Logout</span>
                        </a>
                        <!-- Signout popup -->
                        <ng-template #content1 let-modal>
                            <div class="modal-header bg-primary">
                                <p class="modal-title text-white p-2 font-weight-bold" id="modal-basic-title">
                                    Are you sure
                                </p>
                            </div>
                            <div class="modal-body bg-white p-2">
                                <p class="text-justify font-weight-lighter text-muted">
                                    Would you like to SignOut from this.
                                </p>
                            </div>
                            <div class="modal-footer">
                                <span class="mouse text-info mr-4" (click)="modal.close('Close click')">Cancel</span>
                                <button type="submit" class=" m-1 btn btn-sm p-0 rounded-pill btn-clr text-white"
                                    (click)="SignOut()">Yes</button>
                            </div>
                        </ng-template>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid bg-light pt-1 ">
    <div *ngIf="isViewPatient">
        <div class="row p-2">
            <input type="text" [(ngModel)]="term" class=" p-2 w-100 " placeholder="Serch by Patient"
                style="border-radius: 5px; outline-style: none !important;">
        </div>
        <div class="row table-responsive p-2">
            <div>
                <table class="table text-center ">
                    <thead class="thead-dark ">
                        <tr class="small p-0" style="font-weight: normal;">
                            <th class="p-0" scope="col" class="border text-center">No</th>
                            <th class="p-0" scope="col" class="border  text-center">Patient Name</th>
                            <th class="p-0" scope="col" class="border text-center">Patient ID</th>
                            <th class="p-0" scope="col" class="border text-center">Medical Record ID</th>
                            <th class="p-0" scope="col" class="border  text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class=" shadow small " *ngFor="let patient of patients | filter:term; let i = index">
                            <td scope="row" class="text-center">{{i+1}}</td>
                            <td class="pl-5">{{patient.firstName}} {{patient.lastName}}</td>
                            <td class="pl-5">{{patient.patientID}}</td>
                            <td class="pl-5">{{patient.medical_record_id}}</td>
                            <td class="menu text-center text-info p-2">
                                <img src="../../../assets/images/ui/Icons/1x/view.png" (click)=" openViewOne(patient)"
                                    class="mr-3" style="width: 20px;">
                                <img src="../../../assets/images/ui/Icons/1x/Icon material-edit.png"
                                    style="width: 20px;">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div *ngIf=!isViewPatient>
        <div class="row justify-content-end position-relative" style="top: 30px;right: 10px;">
            <mat-icon class="cancel" (click)="closeView()">cancel</mat-icon>
        </div>
        <div class="shadow  row justify-content-between bg-white">
            <div class="col-md-12">
                <mat-tab-group>
                    <mat-tab class="muni" label="Medical Record">

                        <mat-tab-group class="demo-tab-group" (selectedTabChange)="sendReqForFetchPatientData($event)">
                            <mat-tab label="Profile" class="subLabel">
                                <div class="demo-tab-content ">

                                    <div class="row border justify-content-center">
                                        <div class="col-md-10">
                                            <form [formGroup]="patientProfileForm">
                                                <div class="row p-3">
                                                    <div class="col-md-3">
                                                        <div class="justify-content-center mt-5"
                                                            style="text-align: -webkit-center;">
                                                            <div
                                                                style="border-radius: 50% !important;width: 100px;height: 100px;">
                                                                <img class=""
                                                                    style="border: 2px solid tomato;border-radius: 50%;min-width: 100px;min-height: 100px;"
                                                                    src="{{previewImg}}">
                                                            </div>

                                                            <!-- Upload IMG -->
                                                            <div class="container">
                                                                <div class="row ">
                                                                    <div class="img-move input-group mb-3 mt-3">
                                                                        <input type="file" class="form-control"
                                                                            name="file" id="inputGroupFile01" #fileInput
                                                                            aria-describedby="inputGroupFileAddon01"
                                                                            accept=".png, .jpg, .jpeg"
                                                                            (change)="fileProgress($event)"
                                                                            class="d-none">
                                                                        <button
                                                                            class="btn m-auto btn-sm btn-light font-weight-normal"
                                                                            (click)="fileInput.click()" type="button"
                                                                            disabled>
                                                                            Change Picture
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>UserID</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="patientID"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>Medical Record ID</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="medical_record_id"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>Last Name</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="lastName"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>First Name</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="firstName"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>Gender</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="gender"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>Date of Birth</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="dob"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>Phone Number</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="phoneNumber"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-11">
                                                                        <label>Address</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="address"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>City</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="city"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <div class="col-md-1"></div>
                                                                    <div class="col-md-10">
                                                                        <label>State</label>
                                                                        <input type="text" class="form-control bg-white"
                                                                            formControlName="state"
                                                                            style="border-radius: 50px 50px 50px 50px; box-shadow: 0 2px 3px 0 #53b9c6;">
                                                                    </div>
                                                                    <div class="col-md-1"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="col-md-2"></div>
                                    </div>
                                </div>
                            </mat-tab>
                            <!-- <mat-tab label="Body Index">
                                <div class="demo-tab-content ">
                                    <p>{{patientPhysicalReocrdsData | json}}</p>
                                    Body Index
                                </div>
                               
                            </mat-tab> -->
                            <mat-tab label="Physical Exam">
                                <div class="demo-tab-content ">
                                    <div class="row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-8">
                                            <div *ngIf="isViewPhysicalRecord">
                                                <div class="card bg-light p-1 mb-3"
                                                    *ngFor="let selectedpatientPhysicalReocrdsData of patientPhysicalReocrdsData "
                                                    style=" border-radius: 10px;box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                    <div class="card-body py-1">
                                                        <div class="row">
                                                            <p>Created by
                                                                <b>{{selectedpatientPhysicalReocrdsData.tracking.slice(-1)[0].byWhom}}</b>
                                                                on
                                                                <b>{{selectedpatientPhysicalReocrdsData.createdDate | date:"yyyy/MM/dd hh:mm aa"}}</b>
                                                            </p>

                                                        </div>
                                                        <div class="row justify-content-between">
                                                            <div>
                                                                <p>Physical Exam ID :
                                                                    <b>{{selectedpatientPhysicalReocrdsData.physical_exam_id}}</b>

                                                                </p>
                                                            </div>
                                                            <div>
                                                                <img src="../../../assets/images/ui/Icons/1x/view.png"
                                                                    class="mr-3" style="width: 15px;"
                                                                    (click)="openPhysicalExamTab(selectedpatientPhysicalReocrdsData)">
                                                                <!--(click)="open(content,patientFamilyHistory)"-->
                                                                <img src="../../../assets/images/ui/Icons/1x/Icon material-edit.png"
                                                                    class="mr-3" style="width: 15px;">
                                                                <img src="../../../assets/images/ui/Icons/1x/bin.png"
                                                                    style="width: 10px;">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="!isViewPhysicalRecord">
                                                <div class="row justify-content-end position-relative"
                                                    style="top: 30px;right: 10px;">
                                                    <mat-icon class="cancel" (click)="closePhysicalExamTab()">cancel
                                                    </mat-icon>
                                                </div>
                                                <div>
                                                    <div class="text-center">
                                                        <mat-button-toggle-group>
                                                            <mat-button-toggle value="BodyIndex"
                                                                (click)="isBodyIndexOpen()">Body Index
                                                            </mat-button-toggle>
                                                            <mat-button-toggle value="PhysicalExamHistory"
                                                                (click)="isPhysicalExamOpen()">Physical Exam History
                                                            </mat-button-toggle>
                                                        </mat-button-toggle-group>
                                                    </div>
                                                    <div *ngIf="isBodyIndex">
                                                        <div class="text-center">Body Index</div>
                                                        <div>
                                                            <form [formGroup]="bodyIndexDataForm">
                                                                <div class="form-group">
                                                                    <div class="row justify-content-around">
                                                                        <div class="col-md-1"></div>
                                                                        <div class="col-md-3">
                                                                            <label><b>Height</b></label>
                                                                        </div>
                                                                        <div class="col-md-7">
                                                                            <input type="text"
                                                                                class="form-control bg-light text-center"
                                                                                formControlName="height"
                                                                                style="border-radius: 50px;box-shadow: 0 2px 3px 0 #53b9c6;">

                                                                        </div>
                                                                        <div class="col-md-1"></div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <div class="row justify-content-around">
                                                                        <div class="col-md-1"></div>
                                                                        <div class="col-md-3">
                                                                            <label><b>Weight</b></label>
                                                                        </div>
                                                                        <div class="col-md-7">
                                                                            <input type="text"
                                                                                class="form-control bg-light text-center"
                                                                                formControlName="weight"
                                                                                style="border-radius: 50px;box-shadow: 0 2px 3px 0 #53b9c6;">

                                                                        </div>
                                                                        <div class="col-md-1"></div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <div class="row justify-content-around">
                                                                        <div class="col-md-1"></div>
                                                                        <div class="col-md-3">
                                                                            <label><b>Waistline</b></label>
                                                                        </div>
                                                                        <div class="col-md-7">
                                                                            <input type="text"
                                                                                class="form-control bg-light text-center"
                                                                                formControlName="waistline"
                                                                                style="border-radius: 50px;box-shadow: 0 2px 3px 0 #53b9c6;">

                                                                        </div>
                                                                        <div class="col-md-1"></div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <div class="row justify-content-around">
                                                                        <div class="col-md-1"></div>
                                                                        <div class="col-md-3">
                                                                            <label><b>Blood
                                                                                    Pleassure in BPM</b></label>
                                                                        </div>
                                                                        <div class="col-md-7">
                                                                            <input type="text"
                                                                                class="form-control bg-light text-center"
                                                                                formControlName="bloodPressure"
                                                                                style="border-radius: 50px;box-shadow: 0 2px 3px 0 #53b9c6;">

                                                                        </div>
                                                                        <div class="col-md-1"></div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <div class="row justify-content-around">
                                                                        <div class="col-md-1"></div>
                                                                        <div class="col-md-3">
                                                                            <label><b>BMI</b></label>
                                                                        </div>
                                                                        <div class="col-md-7">
                                                                            <input type="text"
                                                                                class="form-control bg-light text-center"
                                                                                formControlName="bmi"
                                                                                style="border-radius: 50px;box-shadow: 0 2px 3px 0 #53b9c6;">

                                                                        </div>
                                                                        <div class="col-md-1"></div>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="!isBodyIndex">
                                                        <div class="text-center">Physical Exam History</div>
                                                        <form>
                                                            <table class="table table-sm table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col">Category</th>
                                                                        <th scope="col">Normal Or Abnormal</th>
                                                                        <th scope="col">Description</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            General Appearence</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                            <!-- <mat-radio-group
                                                                                aria-labelledby="example-radio-group-label"
                                                                                class="example-radio-group"
                                                                                style="font-size: small;">
                                                                                
                                                                                <mat-radio-button
                                                                                    class="example-radio-button"
                                                                                    *ngFor="let season of seasons"
                                                                                    [value]="season">
                                                                                    {{season}}
                                                                                </mat-radio-button>
                                                                            </mat-radio-group> -->
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">Vital
                                                                            Signs</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">Head
                                                                        </td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>

                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">HEENT
                                                                        </td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">Neck
                                                                        </td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">Chest
                                                                            and Lungs</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Cardiovascular</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Abdomen</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Genitourinary</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Rectal</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Musculoskeletal</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">Lymph
                                                                            Nodes</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Extremities / Skin</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">
                                                                            Neurological</td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="p-4" style="text-align: start;">Other
                                                                            : </td>
                                                                        <td>
                                                                            <div class="" style="margin-left: 40px;">
                                                                                <input type="radio">
                                                                                <label>Normal</label><br>
                                                                                <input type="radio" value="abnormal">
                                                                                <label>Abnormal</label><br>
                                                                                <input type="radio">
                                                                                <label>Not Examined</label>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <textarea class="p-3 w-100"></textarea>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </form>

                                                        <!-- <div *ngFor="let data of phy">
                                                            {{data | json}}
                                                        </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                    </div>

                                </div>
                            </mat-tab>
                            <mat-tab label="Medical History">
                                <div class="demo-tab-content ">
                                    <div class="row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-8">
                                            <div class="card bg-light p-1 mb-3"
                                                *ngFor="let patientMedicalHistory of patientMedicalReocrdsData "
                                                style=" border-radius: 10px;box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                <div class="card-body py-1">
                                                    <div class="row justify-content-between">
                                                        <p>Patient ID :
                                                            <b>     {{patientMedicalHistory.patientID}}</b></p>

                                                        <p>Medical Person ID : <b>{{patientMedicalHistory.medical_personnel_id}}</b>
                                                        </p>
                                                        <p>Medical Record ID : <b>{{patientMedicalHistory.medical_record_id}} Y</b></p>
                                                    </div>
                                                    <div class="row justify-content-between">
                                                        <p>Illness ID : <b>{{patientMedicalHistory.illnessID}}</b></p>
                                                    </div>
                                                    <div class="row justify-content-between">
                                                        <p>Symptoms : <b>{{patientMedicalHistory.symptoms}}</b>
                                                        </p>
                                                       
                                                    </div>
                                                    <div class="row justify-content-end ">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                    </div>
                                    <!-- Medical History
                                    <p>{{patientMedicalReocrdsData | json}}</p> -->
                                </div>
                            </mat-tab>
                            <mat-tab label="Family History">
                                <div class="demo-tab-content ">
                                    <div class="row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-8">
                                            <div class="card bg-light p-1 mb-3"
                                                *ngFor="let patientFamilyHistory of patientFamilyHistory"
                                                style=" border-radius: 10px;box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                <div class="card-body py-1">
                                                    <div class="row justify-content-between">
                                                        <p><b>Medical Issue :
                                                                {{patientFamilyHistory.healthCondition}}</b></p>

                                                        <p>Relationship : <b>{{patientFamilyHistory.relationship}}</b>
                                                        </p>
                                                        <p>Age : <b>{{patientFamilyHistory.age}} Y</b></p>
                                                    </div>
                                                    <div class="row justify-content-between">
                                                        <p>{{patientFamilyHistory.moreInfo}}</p>
                                                    </div>
                                                    <div class="row justify-content-between">
                                                        <p>Created by
                                                            <b>{{patientFamilyHistory.tracking.slice(-1)[0].byWhom}}</b>
                                                            on
                                                            <b>{{patientFamilyHistory.createdDate | date:"yyyy/MM/dd hh:mm aa"}}</b>
                                                        </p>
                                                        <!-- <div>
                                                            <img src="../../../assets/images/ui/Icons/1x/view.png"
                                                                class="mr-3" style="width: 15px;">
                                                            (click)="open(content,patientFamilyHistory)"
                                                            <img src="../../../assets/images/ui/Icons/1x/Icon material-edit.png"
                                                                class="mr-3" style="width: 15px;">
                                                            <img src="../../../assets/images/ui/Icons/1x/bin.png"
                                                                style="width: 10px;">
                                                        </div> -->
                                                    </div>
                                                    <div class="row justify-content-end ">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                    </div>
                                </div>
                                <!-- <p>{{patientFamilyHistory | json}}</p> -->
                                <!-- Family History -->
                            </mat-tab>
                            <mat-tab label="Immunization">
                                <div class="demo-tab-content ">
                                    <div class="row">
                                        <div class="col-md-2"></div>
                                        <div class="col-md-8">
                                            <div class="card bg-light p-1 mb-3"
                                                *ngFor="let patientImmunizationData of patientImmunizationData "
                                                style=" border-radius: 10px;box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                <div class="card-body py-1">

                                                    <div class="row justify-content-between">
                                                        <p>Immunization ID :
                                                            <b> {{patientImmunizationData.immunization_record_id}}</b>
                                                        </p>
                                                        <!-- <div>
                                                            <img src="../../../assets/images/ui/Icons/1x/view.png"
                                                                class="mr-3" style="width: 15px;">
                                                            (click)="open(content,patientFamilyHistory)"
                                                            <img src="../../../assets/images/ui/Icons/1x/Icon material-edit.png"
                                                                class="mr-3" style="width: 15px;">
                                                            <img src="../../../assets/images/ui/Icons/1x/bin.png"
                                                                style="width: 10px;">
                                                        </div> -->
                                                    </div>
                                                    <div class="row justify-content-between">
                                                        <p>Immunization Name :
                                                            <b>{{patientImmunizationData.immunizationName}}</b>
                                                        </p>

                                                    </div>

                                                    <div class="row justify-content-between">

                                                        <p>Immunization Date :
                                                            <b>{{patientImmunizationData.immunizationDate | date:"yyyy/MM/dd"}}</b>
                                                        </p>
                                                    </div>
                                                    <div class="row justify-content-between">
                                                        <p>Info : {{patientImmunizationData.tracking.slice(-1)[0].info}}
                                                        </p>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                    </div>
                                </div>
                                <!-- <p>{{patientImmunizationData | json}}</p>
                                Vaccinations -->
                            </mat-tab>
                        </mat-tab-group>
                    </mat-tab>
                    <mat-tab label="Appointment Record">
                        <mat-tab-group>
                            <mat-tab label="Tab 4">
                                <div class="demo-tab-content">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
                                    Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
                                    In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis
                                    nec,
                                    feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices
                                    porttitor,
                                    orci enim rutrum enim, vel tempor sapien arcu a tellus.
                                    <br />
                                    <br />
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
                                    Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
                                    In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis
                                    nec,
                                    feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices
                                    porttitor,
                                    orci enim rutrum enim, vel tempor sapien arcu a tellus.
                                </div>
                            </mat-tab>
                            <mat-tab label="Tab 5">
                                No content
                            </mat-tab>
                            <mat-tab label="Tab 6">
                                No content
                            </mat-tab>
                        </mat-tab-group>
                    </mat-tab>
                    <mat-tab label="Screening Record">
                        <mat-tab-group>
                            <mat-tab label="Tab 4">
                                <div class="demo-tab-content">
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
                                    Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
                                    In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis
                                    nec,
                                    feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices
                                    porttitor,
                                    orci enim rutrum enim, vel tempor sapien arcu a tellus.
                                    <br />
                                    <br />
                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue.
                                    Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus.
                                    In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis
                                    nec,
                                    feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices
                                    porttitor,
                                    orci enim rutrum enim, vel tempor sapien arcu a tellus.
                                </div>
                            </mat-tab>
                            <mat-tab label="Tab 5">
                                No content
                            </mat-tab>
                            <mat-tab label="Tab 6">
                                No content
                            </mat-tab>
                        </mat-tab-group>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>
</div>

<!-- View Family Member Data popup -->
<ng-template #content let-modal>
    <div class="modal-header" style="background-color: #17a2b8; color: mintcream;">
        <h6 class="modal-title text-center" id="modal-basic-title">Please fill family details below</h6>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span class="cross text-white"><i class="fa fa-times" aria-hidden="true"></i></span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="updateFamilyRelationDataForm">
            <div class="form-group">
                <div class="row justify-content-around">
                    <div class="col-md-1"></div>
                    <div class="col-md-3">
                        <label style="color: #17a2b8;"><b>Medical Issue</b></label>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control bg-light" formControlName="healthCondition"
                            style="border-radius: 50px;box-shadow: 0 3px 2px 0 #3e454c;">

                    </div>
                    <div class="col-md-1"></div>
                </div>
            </div>

            <div class="form-group">
                <div class="row justify-content-around">
                    <div class="col-md-1"></div>
                    <div class="col-md-3">
                        <label style="color: #17a2b8;"><b>Relation</b></label>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control bg-light" formControlName="relationship"
                            style="border-radius: 50px;box-shadow: 0 3px 2px 0 #3e454c;">

                    </div>
                    <div class="col-md-1"></div>
                </div>
            </div>

            <div class="form-group">
                <div class="row justify-content-around">
                    <div class="col-md-1"></div>
                    <div class="col-md-3">
                        <label style="color: #17a2b8;"><b>Age</b></label>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control bg-light" formControlName="age"
                            style="border-radius: 50px;box-shadow: 0 3px 2px 0 #3e454c;">

                    </div>
                    <div class="col-md-1"></div>
                </div>
            </div>

            <div class="form-group">
                <div class="row justify-content-around">
                    <div class="col-md-1"></div>
                    <div class="col-md-3">
                        <label style="color: #17a2b8;"><b>More Info</b></label>
                    </div>
                    <div class="col-md-7">
                        <input type="text" class="form-control bg-light" formControlName="moreInfo"
                            style="border-radius: 50px;box-shadow: 0 3px 2px 0 #3e454c;">

                    </div>
                    <div class="col-md-1"></div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn text-white" style="font-weight: bold; background-color:#17a2b8;"
            (click)="updateRelationData()">Update</button>
        <!-- mat-raised-button style="outline-style: none;border-radius: 20px;" -->
    </div>
</ng-template>

<!-- <mat-tab-group animationDuration="0ms" (selectedTabChange)="onTabChange($event)">

                    <mat-tab label="Medical Record">
                        Medical Record Data
                        <div class="container-fluid">

                            <div class="row justify-content-center">
                                
                                <div class="col-md-8 pb-5">
                                    <div class="row border  " style="">

                                        <div class="btn px-2 btn-dark text-white-50 border-right">Profile</div>
                                        <div class="btn px-2 btn-dark text-white-50 border-right">Body Index</div>
                                        <div class="btn px-2 btn-dark text-white-50 border-right">Physical Exam History</div>
                                        <div class="btn px-2 btn-dark text-white-50 border-right">Medical History</div>
                                        <div class="btn px-2 btn-dark text-white-50 border-right">Family History</div>
                                        <div class="btn px-2 btn-dark text-white-50 ">Vaccination</div>

                                        <mat-button-toggle-group  name="fontStyle" aria-label="Font Style">
                                            <mat-button-toggle class="px-2" value="Profile">Profile</mat-button-toggle>
                                            <mat-button-toggle class="px-2" value="BodyIndex">Body Index</mat-button-toggle>
                                            <mat-button-toggle class="" value="PhysicalExamHistory">Physical Exam History</mat-button-toggle>
                                            <mat-button-toggle class="px-2" value="MedicalHistory">Medical History</mat-button-toggle>
                                            <mat-button-toggle class="px-2" value="FamilyHistory">Family History</mat-button-toggle>
                                            <mat-button-toggle class="px-1" value="Vaccinations">Vaccinations</mat-button-toggle>
                                          </mat-button-toggle-group>
                                          


                                    </div>
                                    <div class="row border">
                                        <form [formGroup]="patientProfileForm">
                                            <div class="row justify-content-around">
                                                <div class="col-md-3">
                                                    <div class="text-center mt-5">
                                                        <img style="border: 2px solid tomato; border-radius: 50%; max-height: 100px;"
                                                            width="100px" height="100px" class="img-fluid p-0"
                                                            src="{{previewImg}}">

                                                        Upload IMG
                                                        <div class="container">
                                                            <div class="row justify-content-center">

                                                                <div class="img-move input-group mb-3 mt-3">
                                                                    <input type="file" class="form-control" name="file"
                                                                        id="inputGroupFile01" #fileInput
                                                                        aria-describedby="inputGroupFileAddon01"
                                                                        accept=".png, .jpg, .jpeg"
                                                                        (change)="fileProgress($event)" class="d-none">
                                                                    <button
                                                                        class="btn m-auto btn-sm btn-light font-weight-normal"
                                                                        (click)="fileInput.click()" type="button">Change
                                                                        Picture</button>
                                                                </div>



                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-md-9">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>UserID</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="patientID"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>Medical Record ID</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="medical_record_id"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>Last Name</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="lastName"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>First Name</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="firstName"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>Gender</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="gender"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>Date of Birth</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="dob"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>Phone Number</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="phoneNumber"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">

                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-11">
                                                                    <label>Address</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="address"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>City</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="city"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <div class="col-md-1"></div>
                                                                <div class="col-md-10">
                                                                    <label>State</label>
                                                                    <input type="text" class="form-control bg-white"
                                                                        formControlName="state"
                                                                        style="height: 30px !important; box-shadow: 0 5px 6px 0 rgba(0,0,0,0.3);">
                                                                </div>
                                                                <div class="col-md-1"></div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                
                            </div>
                        </div>

                    </mat-tab>
                    <mat-tab label="Appointment Record">
                        <div>
                            Appointment Record Data
                        </div>
                    </mat-tab>
                    <mat-tab label="Screening Record">
                        <div>
                            Screening Record Data
                        </div>
                    </mat-tab>


                </mat-tab-group> -->




<!--View Data Starts here-->
<!-- <div *ngIf="!isViewPatient">
            <div class="shadow w-100 p-2 pl-4 row justify-content-between">
                <h5 style="font-weight: 500; font-size: smaller;">Medical Personnel User Profile</h5>
                <mat-icon (click)="closeView()">cancel</mat-icon>
            </div>
            <div class="container-fluid pt-3">

            </div>
        </div> -->
<!--View Data Ends here-->